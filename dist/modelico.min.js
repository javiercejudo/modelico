!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("immutable")):"function"==typeof define&&define.amd?define(["immutable"],t):function(){var n=e.Modelico,r=t(e.Immutable);e.Modelico=r,r.noConflict=function(){return e.Modelico=n,r}}()}(this,function(e){"use strict";var t=Symbol("type"),n=Symbol("fields"),r=Symbol("innerOrig"),i=Object.freeze({typeSymbol:t,fieldsSymbol:n,innerOrigSymbol:r}),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},f=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},l=function(e){return Array.isArray(e)?e:Array.from(e)},v=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},y=function(e,t){return function(){return t(e.apply(void 0,arguments))}},p=function(e){return!e},h=function(){return!0},m=function(e){return e},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return[].concat(t,[m]).reduce(y)},g=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.bind.apply(e,[void 0].concat(n))},b=function(e){return function(t,n){return e(n)}},O=function(e){return function(){return e}},k=function(e){return null==e||Number.isNaN(e)},j=y(k,p),S=function(e){if(k(e))throw TypeError("expected a value but got nothing (null, undefined or NaN)");return e},w=function(e){return function(t){return k(t)?e:t}},M=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},N=y(function(e){return function(t){return t[e]}}("reviver"),w(b(S))),_=function(e){return"object"===(void 0===e?"undefined":u(e))&&!!e},T=function(e){return"function"==typeof e},z=Object.freeze({}),A=Object.freeze([]),E=function(e,t){return e===t||Object.is(e,t)},J=function(e,t){return null==e||null==t?e===t:e.constructor===t.constructor},I=y(J,p),P=function(e,t){return j(e)&&e.equals?e.equals(t):E(e,t)},D=function(e){throw Error(e)},x=function(e){return function(t){return _(t)?t:e(t)}},q=function(e,t,n){return['Invalid JSON at "'+(arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]).join(" -> ")+'". According to the schema\n',JSON.stringify(t,null,2)+"\n",'the value (data path "'+e.errors.filter(function(e){return""!==e.dataPath}).map(function(e){return e.dataPath})+'")\n',JSON.stringify(n,null,2)+" "+Object.prototype.toString.call(n)+"\n"].concat(e.errors.map(function(e){return e.message})).join("\n")},C=new WeakMap,R=function(){return new WeakMap},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];if(i.length>0)return e.apply(void 0,[n].concat(i));C.has(e)||C.set(e,t());var o=C.get(e)||t(),a=void 0===n?z:n;return o.has(a)||o.set(a,e.apply(void 0,[n].concat(i))),o.get(a)}},U=new WeakMap,F=function(e,t){return t.innerTypes(e,t)},L=function(e,t){return U.has(t)||U.set(t,F(e,t)),U.get(t)||z},Y=new WeakMap,B=void 0,$=function(){return{nextRef:1,definitions:{},usedDefinitions:new Set,metadataRefCache:new WeakMap}},G=function(e,t){if(void 0===e.default)return t;var n={default:e.default};return t===z?Object.assign({},{type:z},n):Object.assign({},{anyOf:[{type:"null"},t]},e.type===Yt.Maybe?void 0:n)},H=function(e){if(e.schema)return G(e,e.schema());if(!e.type||!e.type.innerTypes)return G(e,z);var t=L([],e.type);if(0===Object.keys(t).length)return z;var n={type:"object"},r=[],i=Object.keys(t).reduce(function(e,n){var i=t[n],u=K(i,!1);return void 0===i.default&&r.push(n),Object.assign(e,c({},n,u))},{}),u=Object.assign({},n,{properties:i});return r.length>0&&(u.required=r),G(e,u)},V=function(){var e=B,t=e.definitions,n=e.usedDefinitions;return Object.keys(t).map(Number).reduce(function(e,r){return n.has(r)&&(e[r]=t[r]),e},{})},K=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Y.has(e))return Y.get(e)||z;if(t&&(B=$()),B.metadataRefCache.has(e)){var n=B.metadataRefCache.get(e)||B.nextRef;return B.usedDefinitions.add(n),{$ref:"#/definitions/"+n}}var r=B.nextRef;B.metadataRefCache.set(e,r),B.nextRef+=1;var i=H(e);if(Object.assign(B.definitions,c({},r,i)),!t){var u=B.metadataRefCache.get(e),o=Object.keys(i);return!u||o.length<=1&&!Array.isArray(i[o[0]])?i:(B.usedDefinitions.add(u),{$ref:"#/definitions/"+u})}var a=V(),f=void 0;return f=0===Object.keys(a).length?i:a.hasOwnProperty(r)?{definitions:Object.assign(a,c({},r,i)),$ref:"#/definitions/"+r}:Object.assign({},i,{definitions:a}),Y.set(e,f),f},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(e instanceof Yt.Base))throw TypeError("Modelico.validate only works with instances of Modelico.Base");try{Yt.genericsFromJSON(e[Yt.symbols.typeSymbol](),t,JSON.stringify(e))}catch(e){return[!1,e]}return[!0,void 0]},X=function(e,t){return'Invalid value at "'+t.join(" -> ")+'"'},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;return function(n){var r=function(r,i){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==r)return i;var o=n.reviver("",i,u);if(!e(o))throw TypeError(t(o,u));return o};return Object.assign({},n,{reviver:r})}},ee=new WeakMap,te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;ee.has(e)||ee.set(e,new Map);var i=ee.get(e);return i.has(r)||i.set(r,t.apply(e,n)),i.get(r)},ne=W(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return Object.freeze({type:e,reviver:b(d(S,e)),maybeReviver:b(e)})}),re=O(ne(m)),ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"type";return function(r,i){if(0===e.length)return re;for(var u=e[0][1][t](),o=u.metadata().reviver("",r[n]),a=0;a<e.length;a+=1){var c=e[a],f=c[0];if(o===c[1])return f}var s=i.slice(0,-1);throw TypeError('unsupported enumerator "'+o.toJSON()+'" at "'+s.join(" -> ")+'"')}},ue=function(e,t,n,r){return Object.keys(n).reduce(function(i,u){var o=r.concat(u),a=L(r,e),c=a[u],f=T(c)?c(n,o):c;return i[u]=f?N(f)(t,n[u],o):n[u],i},{})},oe=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==t)return n;var i=_(n)?ue(e,t,n,r):n;return new e(i)}},ae=function(e){return function(t){var n=t.type.innerTypes(),r=Object.keys(n),i=_(e);return(0!==r.length||!i)&&r.filter(function(e){return!n[e].hasOwnProperty("default")}).every(function(t){return!!i&&e.hasOwnProperty(t)})}},ce=function(e){return function(t){var n=e.filter(ae(t),[]);if(0===n.length)throw Error("Unable to infer type");if(n.length>1)throw Error("Ambiguous object: more than one metadata matches the object. A custom classifier can be passed as a second argument.");return n[0]}},fe=function(e,t){return e.get(t)},se=function(){function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,u=arguments[2];if(o(this,e),!_(i))throw TypeError("expected an object with fields for "+(r.displayName||r.name)+" but got "+i);Object.freeze(i);var a={},c=L([],r);u=w(this)(u),u[t]=O(r),Object.keys(c).forEach(function(e){var t=i[e],n=c[e].default,r=void 0;if(j(t))r=t;else{if(void 0===n)throw TypeError('no value for key "'+e+'"');r=c[e].reviver("",n),a[e]=r}u[e]=O(r)}),u[n]=O(Object.freeze(Object.assign(a,i)))}return a(e,[{key:"get",value:function(e){return this[n]()[e]}},{key:"getIn",value:function(e){return e.reduce(fe,this)}},{key:"copy",value:function(e){var r=Object.assign({},this[n](),e);return new(this[t]())(r)}},{key:"set",value:function(e,t){return this.copy(c({},e,t))}},{key:"setIn",value:function(e,t){if(0===e.length)return this.copy(t);var n=l(e),r=n[0],i=n.slice(1),u=this[r]();return u.setIn?this.set(r,u.setIn(i,t)):this.set(r,t)}},{key:"equals",value:function(e){if(this===e)return!0;if(I(this,e))return!1;var t=this[n](),r=e[n](),i=Object.keys(t),u=Object.keys(r);return i.length===u.length&&i.every(function(e){return P(t[e],r[e])})}},{key:"toJSON",value:function(){return this[n]()}},{key:"toJS",value:function(){return JSON.parse(JSON.stringify(this))}},{key:"stringify",value:function(e){return JSON.stringify(this,null,e)}},{key:Symbol.toStringTag,get:function(){return"ModelicoModel"}}],[{key:"innerTypes",value:function(){return z}},{key:"factory",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(e,[null].concat(n)))}}]),e}(),le=Object.freeze(se),ve=function(e,t,n,r){var i=e.inner(),u=i.set(n,r);return i===u?e:t.fromArray([].concat(v(u)))},ye=function(e,t){var n=t.length;if(n%2==1)throw TypeError(e.displayName+".of requires an even number of arguments");for(var r=new Map,i=0;i<n;i+=2)r.set(t[i],t[i+1]);return e.fromMap(r)},pe=W(function(e){return W(function(t){return W(function(n){return W(function(r){return Object.freeze({type:e,subtypes:Object.freeze([n,r]),reviver:t(n,r)})})})})}),he=function(n){function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,u=arguments[2];o(this,i);var a=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));if(k(n))throw TypeError("missing map");if(u&&0===n.size){var c;return c=u,s(a,c)}var f=e.OrderedMap(n);return a[r]=O(f),a.inner=O(f),a.size=f.size,a}return f(i,n),a(i,[{key:Symbol.iterator,value:function(){return this[r]()[Symbol.iterator]()}},{key:"has",value:function(e){return this[r]().has(e)}},{key:"get",value:function(e){return this[r]().get(e)}},{key:"setIn",value:function(e,n){if(0===e.length)return new(this[t]())(n);var i=l(e),u=i[0],o=i.slice(1),a=this[r]().get(u);return a.setIn?this.set(u,a.setIn(o,n)):this.set(u,n)}},{key:"equals",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this===t)return!0;if(I(this,t))return!1;var r=n?e.Map:m;return r(this.inner()).equals(r(t.inner()))}}]),i}(le),me=Object.freeze(he),de=function(e,t,n){return function(r,i){return[e("",r[0],n.concat(i,0)),t("",r[1],n.concat(i,1))]}},ge=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==n)return r;var u=N(T(e)?e(r,i):e),o=N(T(t)?t(r,i):t),a=null===r?null:new Map(r.map(de(u,o,i)));return Oe.fromMap(a)}},be=void 0,Oe=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t,e,be));return be||0!==n.size||(be=n),Object.freeze(n),n}return f(t,e),a(t,[{key:"set",value:function(e,n){return ve(this,t,e,n)}},{key:"toJSON",value:function(){return[].concat(v(this))}},{key:Symbol.toStringTag,get:function(){return"ModelicoMap"}}],[{key:"fromMap",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromMap(new Map(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ye(t,n)}},{key:"fromObject",value:function(e){return t.fromArray(M(e))}},{key:"metadata",value:function(e,n){return pe(t)(ge)(e)(n)}},{key:"EMPTY",value:function(){return be||t.of()}}]),t}(me);Oe.displayName="ModelicoMap";var ke=Object.freeze(Oe),je=function(e,t){return e[t[0]]=t[1],e},Se=function(e,t,n){return function(r,i){return[].concat(v(r),[[i,e("",t[i],n.concat(i))]])}},we=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==t)return n;var i=N(T(e)?e(n,r):e),u=null===n?null:new Map(Object.keys(n).reduce(Se(i,n,r),[]));return Ne.fromMap(u)}},Me=void 0,Ne=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t,e,Me));return Me||0!==n.size||(Me=n),Object.freeze(n),n}return f(t,e),a(t,[{key:"set",value:function(e,n){return ve(this,t,e,n)}},{key:"toJSON",value:function(){return[].concat(v(this)).reduce(je,{})}},{key:Symbol.toStringTag,get:function(){return"ModelicoStringMap"}}],[{key:"fromMap",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromMap(new Map(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ye(t,n)}},{key:"fromObject",value:function(e){return t.fromArray(M(e))}},{key:"metadata",value:function(e){return pe(t)(we)(e)()}},{key:"EMPTY",value:function(){return Me||t.of()}}]),t}(me);Ne.displayName="StringMap";var _e=Object.freeze(Ne),Te=function(e,t){return e[t[0].toJSON()]=t[1],e},ze=function(e,t,n,r){return function(i){return[e("",i,r),t("",n[i],r.concat(i))]}},Ae=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==n)return r;var u=N(T(e)?e(r,i):e),o=N(T(t)?t(r,i):t),a=null===r?null:new Map(Object.keys(r).map(ze(u,o,r,i)));return new Je(a)}},Ee=void 0,Je=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t,e,Ee));return Ee||0!==n.size||(Ee=n),Object.freeze(n),n}return f(t,e),a(t,[{key:"set",value:function(e,n){return ve(this,t,e,n)}},{key:"toJSON",value:function(){return[].concat(v(this)).reduce(Te,{})}},{key:Symbol.toStringTag,get:function(){return"ModelicoEnumMap"}}],[{key:"fromMap",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromMap(new Map(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ye(t,n)}},{key:"metadata",value:function(e,n){return pe(t)(Ae)(e)(n)}},{key:"EMPTY",value:function(){return Ee||t.of()}}]),t}(me);Je.displayName="EnumMap";var Ie=Object.freeze(Je),Pe=function(e,t){return xe.of(t)},De=W(function(){return Object.freeze({type:xe,reviver:Pe})}),xe=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));if(!Number.isNaN(e)&&k(e))throw TypeError("missing number");return n.inner=O(Number(e)),Object.freeze(n),n}return f(t,e),a(t,[{key:"set",value:function(){D("Number.set is not supported")}},{key:"setIn",value:function(e,n){if(0===e.length)return t.of(n);D("ModelicoNumber.setIn is not supported for non-empty paths")}},{key:"toJSON",value:function(){var e=this.inner();return Object.is(e,-0)?"-0":e===1/0?"Infinity":e===-1/0?"-Infinity":Number.isNaN(e)?"NaN":e}},{key:"equals",value:function(e){return this===e||!I(this,e)&&E(this.inner(),e.inner())}},{key:Symbol.toStringTag,get:function(){return"ModelicoNumber"}}],[{key:"of",value:function(e){return new t(e)}},{key:"metadata",value:function(){return De()}}]),t}(le);xe.displayName="ModelicoNumber";var qe=Object.freeze(xe),Ce=function(e,t){var n=null===t?null:new Date(t);return new We(n)},Re=W(function(){return Object.freeze({type:We,reviver:Ce})}),We=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));if(k(e))throw TypeError("missing date");var r=new Date(e.getTime());return n.inner=function(){return new Date(r.getTime())},Object.freeze(n),n}return f(t,e),a(t,[{key:"set",value:function(){D("Date.set is not supported")}},{key:"setIn",value:function(e,n){if(0===e.length)return t.of(n);D("Date.setIn is not supported for non-empty paths")}},{key:"toJSON",value:function(){return this.inner().toISOString()}},{key:"equals",value:function(e){return this===e||!I(this,e)&&this.toJSON()===e.toJSON()}},{key:Symbol.toStringTag,get:function(){return"ModelicoDate"}}],[{key:"of",value:function(e){return new t(e)}},{key:"metadata",value:function(){return Re()}}]),t}(le);We.displayName="ModelicoDate";var Ue=Object.freeze(We),Fe=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==n)return r;var u=Array.isArray(t);if(u&&r.length!==t.length)throw TypeError("tuple has missing or extra items");var o=u?function(e){return T(t[e])?t[e](r,i):t[e]}:O(T(t)?t(r,i):t),a=function(e,t){return N(o(t))("",e,i.concat(t))},c=null===r?null:r.map(a);return new e(c)}},Le=W(function(e){return W(function(t){return Object.freeze({type:e,subtypes:Object.freeze([t]),reviver:Fe(e,t)})})}),Ye=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t===n)return!0;if(I(t,n))return!1;var i=r?e.Set:m;return i(t.inner()).equals(i(n.inner()))},Be=void 0,$e=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,n);var i=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n));if(k(t))throw TypeError("missing list");if(Be&&0===t.length){var u;return u=Be,s(i,u)}Object.freeze(t);var a=e.List(t);return i.inner=O(a),i[r]=i.inner,i.size=a.size,Be||0!==i.size||(Be=i),Object.freeze(i),i}return f(n,t),a(n,[{key:Symbol.iterator,value:function(){return this.inner()[Symbol.iterator]()}},{key:"includes",value:function(){var e;return(e=this.inner()).includes.apply(e,arguments)}},{key:"get",value:function(e){return this.inner().get(e)}},{key:"set",value:function(e,t){var r=[].concat(v(this.inner().set(e,t)));return n.fromArray(r)}},{key:"setIn",value:function(e,t){if(0===e.length)return n.fromArray(t);var r=l(e),i=r[0],u=r.slice(1),o=this.inner().get(i);return o.setIn?this.set(i,o.setIn(u,t)):this.set(i,t)}},{key:"toJSON",value:function(){return[].concat(v(this.inner()))}},{key:"toArray",value:function(){return this.toJSON()}},{key:"equals",value:function(e){return Ye(this,e)}},{key:Symbol.toStringTag,get:function(){return"ModelicoList"}}],[{key:"fromArray",value:function(e){return new n(e)}},{key:"of",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.fromArray(t)}},{key:"metadata",value:function(e){return Le(n)(e)}},{key:"EMPTY",value:function(){return Be||n.of()}}]),n}(le);$e.displayName="List";var Ge=Object.freeze($e),He=void 0,Ve=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;o(this,n);var i=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n));if(k(t))throw TypeError("missing set");if(He&&0===t.size){var u;return u=He,s(i,u)}var a=e.OrderedSet(t);return i[r]=O(a),i.inner=O(a),i.size=a.size,He||0!==i.size||(He=i),Object.freeze(i),i}return f(n,t),a(n,[{key:Symbol.iterator,value:function(){return this.inner()[Symbol.iterator]()}},{key:"has",value:function(e){return this[r]().has(e)}},{key:"set",value:function(){D("Set.set is not supported")}},{key:"setIn",value:function(e,t){if(0===e.length)return new n(t);D("Set.setIn is not supported for non-empty paths")}},{key:"toJSON",value:function(){return[].concat(v(this))}},{key:"equals",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ye.apply(void 0,[this].concat(t))}},{key:Symbol.toStringTag,get:function(){return"ModelicoSet"}}],[{key:"fromSet",value:function(e){return new n(e)}},{key:"fromArray",value:function(e){return n.fromSet(new Set(e))}},{key:"of",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.fromArray(t)}},{key:"metadata",value:function(e){return Le(n)(e)}},{key:"EMPTY",value:function(){return He||n.of()}}]),n}(le);Ve.displayName="ModelicoSet";var Ke=Object.freeze(Ve),Qe=function(e){return function(t,n,r){if(""!==t)return n;if(null===n)return new tt;var i=T(e)?e(n,r):e,u=w(i.reviver)(i.maybeReviver),o=u(t,n,r);return Ze.of(o)}},Xe=W(function(e){return Object.freeze({type:Ze,subtypes:[e],reviver:Qe(e),default:null})}),Ze=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),a(t,[{key:"get",value:function(e){var t=e[0],n=e[1],r=this.getOrElse(t);return r.get?r.get(n):r}},{key:"set",value:function(e,n){if(this.isEmpty())return this;var r=this.inner();if(k(r))return this;var i=r.set?r.set(e,n):null;return t.of(i)}},{key:"setIn",value:function(e,n){if(0===e.length)return t.of(n);var r=l(e),i=r[0],u=r.slice(1),o=i[0],a=i[1],c=this.isEmpty()?o:this.inner(),f=c.setIn?c.setIn([a].concat(v(u)),n):null;return t.of(f)}}],[{key:"of",value:function(e){return k(e)||e instanceof tt?new tt:new nt(e)}},{key:"metadata",value:function(e){return Xe(e)}}]),t}(le);Ze.displayName="Maybe";var et=void 0,tt=function(e){function t(){var e;o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));return et||(n.inner=function(){throw TypeError("nothing holds no value")},et=n),e=et,s(n,e)}return f(t,e),a(t,[{key:"toJSON",value:function(){return null}},{key:"isEmpty",value:function(){return!0}},{key:"getOrElse",value:function(e){return e}},{key:"map",value:function(e){return this}},{key:"flatMap",value:function(e){return this}},{key:"equals",value:function(e){return this===e}},{key:Symbol.toStringTag,get:function(){return"ModelicoNothing"}}]),t}(Ze);tt.displayName="Nothing";var nt=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));return n.inner=O(e),Object.freeze(n),n}return f(t,e),a(t,[{key:"toJSON",value:function(){var e=this.inner();return k(e)?null:e.toJSON?e.toJSON():e}},{key:"isEmpty",value:function(){return!1}},{key:"getOrElse",value:function(){return this.inner()}},{key:"map",value:function(e){return t.of(e(this.inner()))}},{key:"flatMap",value:function(e){var t=e(this.inner());if(!(t instanceof Ze))throw TypeError("Maybe.flatMap expects a Maybe-returning function");return t}},{key:"equals",value:function(e){return this===e||!I(this,e)&&P(this.inner(),e.inner())}},{key:Symbol.toStringTag,get:function(){return"ModelicoJust"}}],[{key:"of",value:function(e){return new t(e)}}]),t}(Ze);nt.displayName="Just",Ze.Nothing=new tt,Ze.Just=nt;var rt=Object.freeze(Ze),it=W(function(e){return Object.freeze({type:e,reviver:oe(e)})}),ut=function(e,t){return e.metadata?e.metadata.apply(e,v(t)):it(e)},ot=W(function(e){return W(function(t){return ut(e,t)})}),at=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;return ot(e)(t)},ct=function(e,t){var n=function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==n)return r;if(k(r)){return w(e)(e.baseMetadata).reviver(n,t,i)}return e.reviver(n,r,i)};return Object.freeze(Object.assign({},e,{default:JSON.parse(JSON.stringify(t)),reviver:n}))},ft=W(function(e){return W(function(t){return ct(e,t)},function(){return new Map})}),st=function(e,t){return ft(e)(t)},lt=function(e,t,n){var r=t.map(x(at));n=void 0===n?ce(r):n;var i=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return""!==e?t:n(t,r).reviver(e,t,i)};return Object.assign({},it(e),{reviver:i,subtypes:r})},vt=O(Object.freeze({_:at,base:it,asIs:ne,any:re,anyOf:ie,union:lt,number:O(ne(Number)),string:O(ne(String)),boolean:O(ne(Boolean)),wrappedNumber:qe.metadata,date:Ue.metadata,enumMap:Ie.metadata,list:Ge.metadata,map:ke.metadata,stringMap:_e.metadata,maybe:rt.metadata,set:Ke.metadata,withDefault:st})),yt=function(e){return Yt.getSchema(e,!1)},pt=W(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{validate:h},t=Yt.getSchema,n=Yt.metadata(),r={},i=n._,u=n.base,o=n.asIs,a=n.any,f=n.anyOf,s=n.union,l=n.string,v=n.number,y=n.wrappedNumber,p=n.boolean,d=n.date,g=n.enumMap,b=n.list,k=n.map,j=n.stringMap,S=n.set,w=n.maybe,M=n.withDefault,N=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"reviver";return function(u,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==u)return o;if(n!==z&&!e.validate(n,r(o)))throw TypeError(q(e,n,o,a));return(T(t)?t(o,a):t)[i]("",o,a)}},_=function(e,t,n,r){return function(i,u){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==i)return u;var c=N(e,t,m,r)(i,u);return N(a(),n,function(e){return e.inner()},r)(i,c,o)}},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O(z),i=t===z&&n===z?z:Object.assign({},t,n),u=N(e,i),o=function(){return Object.assign({},i,r())},a=T(e)?{type:e}:e,c=Object.assign({},a,{baseMetadata:a,reviver:u,ownSchema:O(i),schema:o});return e.maybeReviver&&(c.maybeReviver=N(e,i,m,"maybeReviver")),c};r.ajvMeta=A;var E=function(e,n,r,u){var o=i(e,n);return r===z?o:A(o,z,r,function(){return t(o,u)})},J=W(function(e){return W(function(t){return W(function(n){return W(function(r){return E(e,t,n,r)},function(){return new Map})})})});r._=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return J(e)(t)(n)(r)};var I=function(e,n,r){var i=u(e);return n===z?i:A(i,{type:"object"},n,function(){return t(i,r)})},P=W(function(e){return W(function(t){return W(function(n){return I(e,t,n)},function(){return new Map})})});r.base=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return P(e)(t)(n)};var D=function(e,t){return A(o(e),t)},C=W(function(e){return W(function(t){return D(e,t)})});r.asIs=function(e,t){return C(e)(t)},r.any=function(e){return r.asIs(m,e)},r.wrappedNumber=W(function(e){var t=y(),n=Object.assign({type:"number"},e),r={anyOf:[{type:"number"},{enum:["-0","-Infinity","Infinity","NaN"]}]},i=_(t,r,n);return Object.assign({},t,{reviver:i,ownSchema:O(n),schema:O(n)})}),r.number=W(function(e){return A(v(),{type:"number"},e)}),r.string=W(function(e){return A(l(),{type:"string"},e)}),r.boolean=W(function(e){return A(p(),{type:"boolean"},e)}),r.date=W(function(e){return A(d(),{type:"string",format:"date-time"},e)}),r._enum=W(function(e){var t=i(e);return A(t,{enum:Object.keys(t.enumerators)})});var R=function(e,t,n){var r=Object.keys(e.enumerators),i="^("+r.join("|")+")$";return A(g(e,t),{type:"object",maxProperties:r.length,additionalProperties:!1,patternProperties:c({},i,{})},n,function(){return{patternProperties:c({},i,yt(t))}})},U=W(function(e){return W(function(t){return W(function(n){return R(e,t,n)})})});r.enumMap=function(e,t,n){return U(e)(t)(n)};var F=function(e,t){return A(b(e),{type:"array"},t,function(){return{items:yt(e)}})},L=W(function(e){return W(function(t){return F(e,t)})}),Y=function(e,t){var n=e.length;return A(b(e),{type:"array",minItems:n,maxItems:n},t,function(){return{items:e.map(function(e){return yt(e)})}})},B=W(function(e){return W(function(t){return Y(e,t)})});r.list=function(e,t){return Array.isArray(e)?B(e)(t):L(e)(t)};var $=function(e,t,n){var r={type:"array",items:{type:"array",minItems:2,maxItems:2}},i=function(){return{items:Object.assign({items:[yt(e),yt(t)]},r.items)}};return A(k(e,t),r,n,i)},G=W(function(e){return W(function(t){return W(function(n){return $(e,t,n)})})});r.map=function(e,t,n){return G(e)(t)(n)};var H=function(e,t){return A(j(e),{type:"object"},t,function(){return{additionalProperties:!1,patternProperties:{".*":yt(e)}}})},V=W(function(e){return W(function(t){return H(e,t)})});r.stringMap=function(e,t){return V(e)(t)};var K=function(e,t){return A(S(e),{type:"array",uniqueItems:!0},t,function(){return{items:yt(e)}})},Q=W(function(e){return W(function(t){return K(e,t)})});r.set=function(e,t){return Q(e)(t)};var X=function(e,t){return A(w(e),z,t,function(){return yt(e)})},Z=W(function(e){return W(function(t){return X(e,t)})});r.maybe=function(e,t){return Z(e)(t)};var ee=function(e,t,n){return A(M(e,t),z,n,function(){return yt(e)})},te=W(function(e){return W(function(t){return W(function(n){return ee(e,t,n)})},function(){return new Map})});return r.withDefault=function(e,t,n){return te(e)(t)(n)},r.anyOf=function(e,t){return A(f(e,t),{anyOf:e.map(function(e){return yt(e[0])})})},r.union=function(e,t,n){var r=t.map(x(i)),u=s(e,r,n);return A(u,z,z,function(){return{anyOf:r.map(yt)}})},Object.freeze(Object.assign({},n,r))}),ht=function(e,t){return Object.assign(e,c({},t,{code:t}))},mt=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e[n];if(k(i))throw TypeError('missing enumerator "'+n+'" at "'+r.join(" -> ")+'"');return i}},dt=function(e){function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.displayName;o(this,n);var u=Array.isArray(e)?e.reduce(ht,{}):e;r!==n&&(r.displayName=i,Object.freeze(r));var a=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r));return Object.getOwnPropertyNames(u).forEach(function(e){a[e]=O(u[e]),u[e][t]=O(a),u[e].toJSON=O(e),u[e].equals=function(t){return u[e]===t}}),Object.defineProperty(a,"metadata",{value:O(Object.freeze({type:a,enumerators:u,reviver:mt(u)}))}),a}return f(n,e),a(n,null,[{key:"fromObject",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new(Function.prototype.bind.apply(n,[null].concat(t)))}},{key:"fromArray",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new(Function.prototype.bind.apply(n,[null].concat(t)))}}]),n}(le);Object.defineProperty(dt,"displayName",{value:"Enum",writable:!0});var gt=function(e,t,n,r,i){return e.includes(i)?function(){var u=r[i].apply(r,arguments);return Ot(e,t,n,u)}:r[i]},bt=function(e,t,n,r,i,u,o){return n.includes(o)?function(){for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];var f=u.setIn([],t.apply(e,a));return Ot(n,r,i,f)}:r.includes(o)?function(){for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];t.apply(e,a);var f=u.setIn([],e);return Ot(n,r,i,f)}:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.apply(e,r)}},Ot=function(e,t,n,r){var i=function(r,i){if(i in r)return gt(e,t,n,r,i);var u=n(r.inner()),o=u[i];return"function"==typeof o?bt(u,o,e,t,n,r,i):o};return new Proxy(r,{get:i})},kt=vt(),jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.base,r=void 0===n?le:n,i=t.stringTag,u=void 0===i?"ModelicoModel":i,c=t.metadata,l=void 0===c?kt:c,v=function(t){function n(){o(this,n);var e=arguments;if(2===e.length)var t=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e[0],e[1]));else var r=e[0],i=void 0===r?{}:r,t=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,i));return s(t)}return f(n,t),a(n,[{key:Symbol.toStringTag,get:function(){return u}}],[{key:"innerTypes",value:function(t,n){return T(e)?e(l,{path:t,Type:n}):Object.freeze(e)}}]),n}(r);return v.displayName=u,v},St=vt(),wt=St.union,Mt=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wt,i=e.map(function(e){return!_(e)||e instanceof Yt.Enum?Yt.metadata()._(e):e});n=void 0===n?ce(i):n;var u=i.length;return function(e){function c(){return o(this,c),s(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return f(c,e),a(c,null,[{key:"caseOf",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=new Map(n),a=o.size;if(u!==a)throw Error("caseOf expected "+u+" but contains "+a);if(!i.every(function(e){return o.has(e.type)}))throw Error("caseOf does not cover all cases");return function(e,n){var r=e[t],i=r?r():e.constructor,u=o.get(i),a=void 0!==u?u:n;return T(a)?a(e):a}}},{key:"metadata",
value:function(){return r(c,i,n)}}]),c}(Yt.Base)},Nt=vt(),_t=Nt._,Tt=["set","setIn"],zt=Tt.concat(["delete","clear","update","merge","mergeWith","mergeDeep","mergeDeepWith","map","filter","filterNot","reverse","sort","sortBy","slice","rest","butLast","skip","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeUntil","concat","withMutations"]),At=[],Et=Tt.concat(["add","delete","clear","union","merge","intersect","subtract","mergeDeepWith","map","filter","filterNot","reverse","sort","concat","withMutations"]),Jt=[],It=Tt.concat(["delete","insert","clear","push","pop","unshift","shift","update","merge","mergeWith","mergeDeep","mergeDeepWith","map","filter","filterNot","reverse","sort","sortBy","slice","rest","butLast","skip","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeUntil","concat","withMutations"]),Pt=[],Dt=Tt,xt=["setDate","setFullYear","setHours","setMinutes","setMilliseconds","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"],qt=g(Ot,zt,At,m),Ct=function(e,t,n){return _t(e,t).reviver("",n)},Rt=function(e,t){return Ct(e,[],t)},Wt=function(e,t,n,r,i){return e(t,r,n).reviver("",i)},Ut=function(e,t,n,r){return Wt(e,t,n,[],r)},Ft=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.metadata=pt(e),jt(t,n)},Lt=function(e,t){return jt(e,{stringTag:t})},Yt={about:Object.freeze({version:"23.0.0",author:"Javier Cejudo <javier@javiercejudo.com> (http://www.javiercejudo.com)",homepage:"https://github.com/javiercejudo/modelico/tree/immutable-js#readme",license:"MIT"}),Number:qe,Date:Ue,Enum:dt,EnumMap:Ie,List:Ge,Map:ke,StringMap:_e,Maybe:rt,Just:rt.Just,Nothing:rt.Nothing,Base:le,Set:Ke,createModel:jt,createSimpleModel:Lt,createAjvModel:Ft,createUnionType:Mt,new:function(e){return function(t){return new e(t)}},fields:function(e){return e[n]()},symbols:i,fromJS:Rt,genericsFromJS:Ct,fromJSON:function(e,t){return Rt(e,JSON.parse(t))},genericsFromJSON:function(e,t,n){return Ct(e,t,JSON.parse(n))},ajvFromJS:Ut,ajvGenericsFromJS:Wt,ajvFromJSON:function(e,t,n,r){return Ut(e,t,n,JSON.parse(r))},ajvGenericsFromJSON:function(e,t,n,r,i){return Wt(e,t,n,r,JSON.parse(i))},metadata:vt,ajvMetadata:pt,getSchema:K,validate:Q,withValidation:Z,withCache:te,proxyMap:qt,proxyEnumMap:qt,proxyStringMap:qt,proxyList:g(Ot,It,Pt,m),proxySet:g(Ot,Et,Jt,m),proxyDate:g(Ot,Dt,xt,m),util:{T:h,always:O,formatAjvError:q,identity:m,isNothing:k,partial:g,pipe:d,mem:W}};return Yt});
