!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("immutable")):"function"==typeof define&&define.amd?define(["immutable"],t):function(){var n=e.Modelico,r=t(e.Immutable);e.Modelico=r,r.noConflict=function(){return e.Modelico=n,r}}()}(this,function(e){"use strict";e="default"in e?e.default:e;var t=Symbol("type"),n=Symbol("fields"),r=Symbol("innerOrig"),i=Object.freeze({typeSymbol:t,fieldsSymbol:n,innerOrigSymbol:r}),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},c=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},l=function(e){return Array.isArray(e)?e:Array.from(e)},y=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},v=function(e,t){return function(){return t(e.apply(void 0,arguments))}},p=function(e){return!e},h=function(){return!0},m=function(e){return e},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return[].concat(t,[m]).reduce(v)},g=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.bind.apply(e,[void 0].concat(n))},b=function(e){return function(t,n){return e(n)}},O=function(e){return function(){return e}},j=function(e){return null==e||Number.isNaN(e)},k=v(j,p),S=function(e){if(j(e))throw TypeError("expected a value but got nothing (null, undefined or NaN)");return e},w=function(e){return function(t){return j(t)?e:t}},M=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},N=v(function(e){return function(t){return t[e]}}("reviver"),w(b(S))),T=function(e){return"object"===(void 0===e?"undefined":u(e))&&!!e},z=function(e){return"function"==typeof e},_=Object.freeze({}),A=function(e,t){return e===t||Object.is(e,t)},E=function(e,t){return null==e||null==t?e===t:e.constructor===t.constructor},J=v(E,p),I=function(e,t){return k(e)&&e.equals?e.equals(t):A(e,t)},P=function(e){throw Error(e)},D=new WeakMap,x=function(e,t){if(!t.innerTypes)throw Error("missing static innerTypes for "+(t.displayName||t.name));return t.innerTypes(e,t)},q=function(e,t){return D.has(t)||D.set(t,x(e,t)),D.get(t)},W=function(e,t,n,r){return Object.keys(n).reduce(function(i,u){var o=r.concat(u),a=q(r,e),f=a[u],c=z(f)?f(n,o):f;return i[u]=c?N(c)(t,n[u],o):n[u],i},{})},F=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return""!==t?n:new e(T(n)?W(e,t,n,r):n)}},L=new WeakMap,U=new WeakMap,C={nextRef:1,definitions:{},usedDefinitions:new Set},Y=function(e){if(e.schema)return e.schema();if(!e.type||!e.type.innerTypes||0===Object.keys(q([],e.type)).length)return _;var t={type:"object"},n=e.type.innerTypes(),r=[],i=Object.keys(n).reduce(function(e,t){var i=n[t],u=B(i,!1),o=void 0;return void 0===i.default?(r.push(t),o=u):o=Object.assign({anyOf:[{type:"null"},u]},i.type===bt.Maybe?void 0:{default:i.default}),Object.assign(e,f({},t,o))},{}),u=Object.assign({},t,{properties:i});return r.length>0&&(u.required=r),u},R=function(){var e=C.definitions,t=C.usedDefinitions;return Object.keys(e).map(Number).reduce(function(n,r){return t.has(r)&&(n[r]=e[r]),n},{})},B=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(L.has(e))return L.get(e);if(U.has(e)){var n=U.get(e);return C.usedDefinitions.add(n),{$ref:"#/definitions/"+n}}t&&(C.nextRef=1,C.definitions={},C.usedDefinitions=new Set);var r=C.nextRef;U.set(e,r),C.nextRef+=1;var i=Y(e);if(L.set(e,i),Object.assign(C.definitions,f({},r,i)),!t)return i;var u=R();return 0===Object.keys(u).length?i:u.hasOwnProperty(r)?{definitions:Object.assign(u,f({},r,i)),$ref:"#/definitions/"+r}:Object.assign(i,{definitions:u})},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{bt.genericsFromJSON(e[bt.symbols.typeSymbol](),t,JSON.stringify(e))}catch(e){return[!1,e]}return[!0,void 0]},G=function(e,t){return'Invalid value at "'+t.join(" -> ")+'"'},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G;return function(n){var r=function(r,i){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==r)return i;var o=n.reviver("",i,u);if(!e(o))throw TypeError(t(o,u));return o};return Object.assign({},n,{reviver:r})}},V=function(e,t){return e.get(t)},K=function(){function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,u=arguments[2];if(o(this,e),!T(i))throw TypeError("expected an object with fields for "+(r.displayName||r.name)+" but got "+i);Object.freeze(i);var a={},f=q([],r);u=w(this)(u),u[t]=O(r),Object.keys(f).forEach(function(e){var t=i[e],n=f[e].default,r=void 0;if(k(t))r=t;else{if(!k(n))throw TypeError('no value for key "'+e+'"');r=f[e].default,a[e]=r}u[e]=O(r)}),u[n]=O(Object.freeze(Object.assign(a,i)))}return a(e,[{key:"get",value:function(e){return this[n]()[e]}},{key:"getIn",value:function(e){return e.reduce(V,this)}},{key:"copy",value:function(e){var r=Object.assign({},this[n](),e);return new(this[t]())(r)}},{key:"set",value:function(e,t){return this.copy(f({},e,t))}},{key:"setIn",value:function(e,t){if(0===e.length)return this.copy(t);var n=l(e),r=n[0],i=n.slice(1),u=this[r]();return u.setIn?this.set(r,u.setIn(i,t)):this.set(r,t)}},{key:"equals",value:function(e){if(this===e)return!0;if(J(this,e))return!1;var t=this[n](),r=e[n](),i=Object.keys(t),u=Object.keys(r);return i.length===u.length&&i.every(function(e){return I(t[e],r[e])})}},{key:"toJSON",value:function(){return this[n]()}},{key:"toJS",value:function(){return JSON.parse(JSON.stringify(this))}},{key:"stringify",value:function(e){return JSON.stringify(this,null,e)}},{key:Symbol.toStringTag,get:function(){return"ModelicoModel"}}],[{key:"factory",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(e,[null].concat(n)))}}]),e}(),Q=Object.freeze(K),X=function(e){return function(t,n,r){if(""!==t)return n;var i=z(e)?e(n,r):e;return new ne((null===n?O(null):w(i.reviver)(i.maybeReviver))(t,n,r))}},Z=function(){function e(){o(this,e)}return a(e,[{key:"toJSON",value:function(){return null}}]),e}(),ee=function(){function e(t){o(this,e),this.get=O(t),Object.freeze(this)}return a(e,[{key:"toJSON",value:function(){var e=this.get();return j(e)?null:e.toJSON?e.toJSON():e}}]),e}(),te=new Z,ne=function(e){function t(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t)),i=n&&j(e)?te:new ee(e);return r.inner=O(i),Object.freeze(r),r}return c(t,e),a(t,[{key:"get",value:function(e){var t=e[0],n=e[1],r=this.getOrElse(t);return r.get?r.get(n):r}},{key:"set",value:function(e,n){if(this.isEmpty())return this;var r=this.inner().get();return j(r)?this:new t(r.set?r.set(e,n):null)}},{key:"setIn",value:function(e,n){if(0===e.length)return t.of(n);var r=l(e),i=r[0],u=r.slice(1),o=i[0],a=i[1],f=this.isEmpty()?o:this.inner().get(),c=f.setIn?f.setIn([a].concat(y(u)),n):null;return t.of(c)}},{key:"isEmpty",value:function(){return this.inner()===te}},{key:"getOrElse",value:function(e){return this.isEmpty()?e:this.inner().get()}},{key:"map",value:function(e){return this.isEmpty()?this:t.ofAny(e(this.inner().get()))}},{key:"toJSON",value:function(){return this.inner().toJSON()}},{key:"equals",value:function(e){if(this===e)return!0;if(J(this,e))return!1;var t=this.inner(),n=e.inner();return this.isEmpty()||e.isEmpty()?t===n:I(t.get(),n.get())}},{key:Symbol.toStringTag,get:function(){return"ModelicoMaybe"}}],[{key:"of",value:function(e){return new t(e)}},{key:"ofAny",value:function(e){return new t(e,!1)}},{key:"metadata",value:function(e){return Object.freeze({type:t,subtypes:[e],reviver:X(e),default:t.of()})}},{key:"innerTypes",value:function(){return _}}]),t}(Q);ne.displayName="Maybe",ne.EMPTY=ne.of();var re=Object.freeze(ne),ie=function(e,t){return Object.assign(e,f({},t,{code:t}))},ue=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e[n];if(j(i))throw TypeError('missing enumerator "'+n+'" at "'+r.join(" -> ")+'"');return i}},oe=function(e){function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.displayName;o(this,n);var u=Array.isArray(e)?e.reduce(ie,{}):e;r!==n&&(r.displayName=i,Object.freeze(r));var a=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r));return Object.getOwnPropertyNames(u).forEach(function(e){a[e]=O(u[e]),u[e][t]=O(a),u[e].toJSON=O(e),u[e].equals=function(t){return u[e]===t}}),Object.defineProperty(a,"metadata",{value:O(Object.freeze({type:r,enumerators:u,reviver:ue(u)}))}),a}return c(n,e),a(n,null,[{key:"fromObject",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new(Function.prototype.bind.apply(n,[null].concat(t)))}},{key:"fromArray",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new(Function.prototype.bind.apply(n,[null].concat(t)))}},{key:"innerTypes",value:function(){return _}}]),n}(Q);Object.defineProperty(oe,"displayName",{value:"Enum",writable:!0});var ae=function(e,t,n,r){var i=e.inner(),u=i.set(n,r);return i===u?e:t.fromArray([].concat(y(u)))},fe=function(e,t){var n=t.length;if(n%2==1)throw TypeError(e.displayName+".of requires an even number of arguments");for(var r=new Map,i=0;i<n;i+=2)r.set(t[i],t[i+1]);return e.fromMap(r)},ce=function(e,t,n,r){return Object.freeze({type:e,subtypes:Object.freeze([n,r]),reviver:t(n,r)})},se=function(n){function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,u=arguments[2];o(this,i);var a=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));if(j(n))throw TypeError("missing map");if(u&&0===n.size){var f;return f=u,s(a,f)}var c=e.OrderedMap(n);return a[r]=O(c),a.inner=O(c),a.size=c.size,a}return c(i,n),a(i,[{key:Symbol.iterator,value:function(){return this[r]()[Symbol.iterator]()}},{key:"has",value:function(e){return this[r]().has(e)}},{key:"get",value:function(e){return this[r]().get(e)}},{key:"setIn",value:function(e,n){if(0===e.length)return new(this[t]())(n);var i=l(e),u=i[0],o=i.slice(1),a=this[r]().get(u);return a.setIn?this.set(u,a.setIn(o,n)):this.set(u,n)}},{key:"equals",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this===t)return!0;if(J(this,t))return!1;var r=n?e.Map:m;return r(this.inner()).equals(r(t.inner()))}}]),i}(Q),le=Object.freeze(se),ye=function(e,t,n){return function(r,i){return[e("",r[0],n.concat(i,0)),t("",r[1],n.concat(i,1))]}},ve=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==n)return r;var u=N(z(e)?e(r,i):e),o=N(z(t)?t(r,i):t),a=null===r?null:new Map(r.map(ye(u,o,i)));return he.fromMap(a)}},pe=void 0,he=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t,e,pe));return pe||0!==n.size||(pe=n),Object.freeze(n),n}return c(t,e),a(t,[{key:"set",value:function(e,n){return ae(this,t,e,n)}},{key:"toJSON",value:function(){return[].concat(y(this))}},{key:Symbol.toStringTag,get:function(){return"ModelicoMap"}}],[{key:"fromMap",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromMap(new Map(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return fe(t,n)}},{key:"fromObject",value:function(e){return t.fromArray(M(e))}},{key:"metadata",value:function(e,n){return ce(t,ve,e,n)}},{key:"innerTypes",value:function(){return _}},{key:"EMPTY",value:function(){return pe||t.of()}}]),t}(le);he.displayName="ModelicoMap";var me=Object.freeze(he),de=function(e,t){return e[t[0]]=t[1],e},ge=function(e,t,n){return function(r,i){return[].concat(y(r),[[i,e("",t[i],n.concat(i))]])}},be=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==t)return n;var i=N(z(e)?e(n,r):e),u=null===n?null:new Map(Object.keys(n).reduce(ge(i,n,r),[]));return je.fromMap(u)}},Oe=void 0,je=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t,e,Oe));return Oe||0!==n.size||(Oe=n),Object.freeze(n),n}return c(t,e),a(t,[{key:"set",value:function(e,n){return ae(this,t,e,n)}},{key:"toJSON",value:function(){return[].concat(y(this)).reduce(de,{})}},{key:Symbol.toStringTag,get:function(){return"ModelicoStringMap"}}],[{key:"fromMap",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromMap(new Map(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return fe(t,n)}},{key:"fromObject",value:function(e){return t.fromArray(M(e))}},{key:"metadata",value:function(e){return ce(t,be,e)}},{key:"innerTypes",value:function(){return _}},{key:"EMPTY",value:function(){return Oe||t.of()}}]),t}(le);je.displayName="StringMap";var ke=Object.freeze(je),Se=function(e,t){return e[t[0].toJSON()]=t[1],e},we=function(e,t,n,r){return function(i){return[e("",i,r),t("",n[i],r.concat(i))]}},Me=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==n)return r;var u=N(z(e)?e(r,i):e),o=N(z(t)?t(r,i):t);return new Te(null===r?null:new Map(Object.keys(r).map(we(u,o,r,i))))}},Ne=void 0,Te=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t,e,Ne));return Ne||0!==n.size||(Ne=n),Object.freeze(n),n}return c(t,e),a(t,[{key:"set",value:function(e,n){return ae(this,t,e,n)}},{key:"toJSON",value:function(){return[].concat(y(this)).reduce(Se,{})}},{key:Symbol.toStringTag,get:function(){return"ModelicoEnumMap"}}],[{key:"fromMap",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromMap(new Map(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return fe(t,n)}},{key:"metadata",value:function(e,n){return ce(t,Me,e,n)}},{key:"innerTypes",value:function(){return _}},{key:"EMPTY",value:function(){return Ne||t.of()}}]),t}(le);Te.displayName="EnumMap";var ze=Object.freeze(Te),_e=function(e,t){return Ae.of(t)},Ae=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));if(!Number.isNaN(e)&&j(e))throw TypeError("missing number");return n.inner=O(Number(e)),Object.freeze(n),n}return c(t,e),a(t,[{key:"set",value:function(){P("Number.set is not supported")}},{key:"setIn",value:function(e,n){if(0===e.length)return t.of(n);P("ModelicoNumber.setIn is not supported for non-empty paths")}},{key:"toJSON",value:function(){var e=this.inner();return Object.is(e,-0)?"-0":e===1/0?"Infinity":e===-(1/0)?"-Infinity":Number.isNaN(e)?"NaN":e}},{key:"equals",value:function(e){return this===e||!J(this,e)&&A(this.inner(),e.inner())}},{key:Symbol.toStringTag,get:function(){return"ModelicoNumber"}}],[{key:"of",value:function(e){return new t(e)}},{key:"metadata",value:function(){return Object.freeze({type:t,reviver:_e})}},{key:"innerTypes",value:function(){return _}}]),t}(Q);Ae.displayName="ModelicoNumber";var Ee=Object.freeze(Ae),Je=function(e,t){return new Ie(null===t?null:new Date(t))},Ie=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));if(j(e))throw TypeError("missing date");var r=new Date(e.getTime());return n.inner=function(){return new Date(r.getTime())},Object.freeze(n),n}return c(t,e),a(t,[{key:"set",value:function(){P("Date.set is not supported")}},{key:"setIn",value:function(e,n){if(0===e.length)return t.of(n);P("Date.setIn is not supported for non-empty paths")}},{key:"toJSON",value:function(){return this.inner().toISOString()}},{key:"equals",value:function(e){return this===e||!J(this,e)&&this.toJSON()===e.toJSON()}},{key:Symbol.toStringTag,get:function(){return"ModelicoDate"}}],[{key:"of",value:function(e){return new t(e)}},{key:"metadata",value:function(){return Object.freeze({type:t,reviver:Je})}},{key:"innerTypes",value:function(){return _}}]),t}(Q);Ie.displayName="ModelicoDate";var Pe=Object.freeze(Ie),De=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==n)return r;var u=Array.isArray(t);if(u&&r.length!==t.length)throw TypeError("tuple has missing or extra items");var o=u?function(e){return z(t[e])?t[e](r,i):t[e]}:O(z(t)?t(r,i):t),a=function(e,t){return N(o(t))("",e,i.concat(t))};return new e(null===r?null:r.map(a))}},xe=function(e,t){return Object.freeze({type:e,subtypes:Object.freeze([t]),reviver:De(e,t)})},qe=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t===n)return!0;if(J(t,n))return!1;var i=r?e.Set:m;return i(t.inner()).equals(i(n.inner()))},We=void 0,Fe=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,n);var i=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n));if(j(t))throw TypeError("missing list");if(We&&0===t.length){var u;return u=We,s(i,u)}Object.freeze(t);var a=e.List(t);return i.inner=O(a),i[r]=i.inner,i.size=a.size,We||0!==i.size||(We=i),Object.freeze(i),i}return c(n,t),a(n,[{key:Symbol.iterator,value:function(){return this.inner()[Symbol.iterator]()}},{key:"includes",value:function(){var e;return(e=this.inner()).includes.apply(e,arguments)}},{key:"get",value:function(e){return this.inner().get(e)}},{key:"set",value:function(e,t){var r=[].concat(y(this.inner().set(e,t)));return n.fromArray(r)}},{key:"setIn",value:function(e,t){if(0===e.length)return n.fromArray(t);var r=l(e),i=r[0],u=r.slice(1),o=this.inner().get(i);return o.setIn?this.set(i,o.setIn(u,t)):this.set(i,t)}},{key:"toJSON",value:function(){return[].concat(y(this.inner()))}},{key:"equals",value:function(e){return qe(this,e)}},{key:Symbol.toStringTag,get:function(){return"ModelicoList"}}],[{key:"fromArray",value:function(e){return new n(e)}},{key:"of",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.fromArray(t)}},{key:"metadata",value:function(e){return xe(n,e)}},{key:"innerTypes",value:function(){return _}},{key:"EMPTY",value:function(){return We||n.of()}}]),n}(Q);Fe.displayName="List";var Le=Object.freeze(Fe),Ue=void 0,Ce=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;o(this,n);var i=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n));if(j(t))throw TypeError("missing set");if(Ue&&0===t.size){var u;return u=Ue,s(i,u)}var a=e.OrderedSet(t);return i[r]=O(a),i.inner=O(a),i.size=a.size,Ue||0!==i.size||(Ue=i),Object.freeze(i),i}return c(n,t),a(n,[{key:Symbol.iterator,value:function(){return this.inner()[Symbol.iterator]()}},{key:"has",value:function(e){return this[r]().has(e)}},{key:"set",value:function(){P("Set.set is not supported")}},{key:"setIn",value:function(e,t){if(0===e.length)return new n(t);P("Set.setIn is not supported for non-empty paths")}},{key:"toJSON",value:function(){return[].concat(y(this))}},{key:"equals",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return qe.apply(void 0,[this].concat(t))}},{key:Symbol.toStringTag,get:function(){return"ModelicoSet"}}],[{key:"fromSet",value:function(e){return new n(e)}},{key:"fromArray",value:function(e){return n.fromSet(new Set(e))}},{key:"of",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.fromArray(t)}},{key:"metadata",value:function(e){return xe(n,e)}},{key:"innerTypes",value:function(){return _}},{key:"EMPTY",value:function(){return Ue||n.of()}}]),n}(Q);Ce.displayName="ModelicoSet";var Ye=Object.freeze(Ce),Re=function(e,t,n,r,i){return e.includes(i)?function(){return $e(e,t,n,r[i].apply(r,arguments))}:r[i]},Be=function(e,t,n,r,i,u,o){return n.includes(o)?function(){for(var o=arguments.length,a=Array(o),f=0;f<o;f++)a[f]=arguments[f];return $e(n,r,i,u.setIn([],t.apply(e,a)))}:r.includes(o)?function(){for(var o=arguments.length,a=Array(o),f=0;f<o;f++)a[f]=arguments[f];return t.apply(e,a),$e(n,r,i,u.setIn([],e))}:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.apply(e,r)}},$e=function(e,t,n,r){var i=function(r,i){if(i in r)return Re(e,t,n,r,i);var u=n(r.inner()),o=u[i];return"function"==typeof o?Be(u,o,e,t,n,r,i):o};return new Proxy(r,{get:i})},Ge=function(e,t,n){return['Invalid JSON at "'+(arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]).join(" -> ")+'". According to the schema\n',JSON.stringify(t,null,2)+"\n",'the value (data path "'+e.errors.filter(function(e){return""!==e.dataPath}).map(function(e){return e.dataPath})+'")\n',JSON.stringify(n,null,2)+"\n"].concat(e.errors.map(function(e){return e.message})).join("\n")},He=function(e,t,n){return["Invalid default value. According to the schema\n",JSON.stringify(t,null,2)+"\n","the default value\n",JSON.stringify(n,null,2)+"\n"].concat(e.errors.map(function(e){return e.message})).join("\n")},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{validate:h},t=bt.metadata(),n={},r=t._,i=t.base,u=t.asIs,o=t.any,a=t.anyOf,c=t.string,s=t.number,l=t.boolean,y=t.date,v=t.enumMap,p=t.list,d=t.map,g=t.stringMap,b=t.set,j=t.maybe,k=t.withDefault,S=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return function(i,u,o){if(""!==i)return u;if(n!==_&&!e.validate(n,r(u)))throw TypeError(Ge(e,n,u,o));return(z(t)?t(u,o):t).reviver("",u,o)}},w=function(e,t,n){return function(r,i){if(""!==r)return i;var u=S(e,t)(r,i);return S(o(),n,function(e){return e.inner()})(r,u)}},M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O(_),i=t===_&&n===_?_:Object.assign({},t,n),u=S(e,i),o=function(){return Object.assign({},i,r())},a=z(e)?{type:e}:e;return Object.assign({},a,{reviver:u,ownSchema:O(i),schema:o})};n.ajvMeta=M,n.ajv_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,n=arguments[2],i=r(e,n);return M(i,_,t,function(){return B(i,!1)})},n.ajvBase=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,n=i(e);return M(n,{type:"object"},t,function(){return B(n,!1)})},n.ajvAsIs=function(e){return M(u(arguments.length>1&&void 0!==arguments[1]?arguments[1]:m),e)},n.ajvAny=function(e){return n.ajvAsIs(e)},n.ajvNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,n=t.wrap,r=void 0!==n&&n,i=s(t);if(!r)return M(i,{type:"number"},e);var u=Object.assign({type:"number"},e),o=w(i,{anyOf:[{type:"number"},{enum:["-0","-Infinity","Infinity","NaN"]}]},u);return Object.assign({},i,{reviver:o,ownSchema:O(u),schema:O(u)})},n.ajvString=function(e){return M(c(),{type:"string"},e)},n.ajvBoolean=function(e){return M(l(),{type:"boolean"},e)},n.ajvDate=function(e){return M(y(),{type:"string",format:"date-time"},e)},n.ajvEnum=function(e){var t=r(e);return M(t,{enum:Object.keys(t.enumerators)})},n.ajvEnumMap=function(e,t,n){var r=Object.keys(t.enumerators),i="^("+r.join("|")+")$";return M(v(t,n),{type:"object",maxProperties:r.length,additionalProperties:!1,patternProperties:f({},i,{})},e,function(){return{patternProperties:f({},i,B(n,!1))}})};var N=function(e,t){return M(p(t),{type:"array"},e,function(){return{items:B(t,!1)}})},T=function(e,t){var n=t.length;return M(p(t),{type:"array",minItems:n,maxItems:n},e,function(){return{items:t.map(function(e){return B(e,!1)})}})};return n.ajvList=function(e,t){return Array.isArray(t)?T(e,t):N(e,t)},n.ajvMap=function(e,t,n){var r={type:"array",items:{type:"array",minItems:2,maxItems:2}},i=function(){return{items:Object.assign({items:[B(t,!1),B(n,!1)]},r.items)}};return M(d(t,n),r,e,i)},n.ajvStringMap=function(e,t){return M(g(t),{type:"object"},e,function(){return{additionalProperties:!1,patternProperties:{".*":B(t,!1)}}})},n.ajvSet=function(e,t){return M(b(t),{type:"array",uniqueItems:!0},e,function(){return{items:B(t,!1)}})},n.ajvMaybe=function(e){return M(j(e),_,_,function(){return B(e,!1)})},n.ajvWithDefault=function(t,n){var r=B(t,!1);if(!e.validate(r,n))throw TypeError(He(e,r,n));return M(k(t,n),{default:n},_,O(r))},n.ajvAnyOf=function(e,t){return M(a(e,t),{anyOf:e.map(function(e){return B(e[0],!1)})})},Object.freeze(Object.assign(n,t))},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return Object.freeze({type:e,reviver:b(d(S,e)),maybeReviver:b(e)})},Qe=O(Ke(m)),Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"type";return function(r,i){if(0===e.length)return Qe;for(var u=e[0][1][t](),o=u.metadata().reviver("",r[n]),a=0;a<e.length;a+=1){var f=e[a],c=f[0];if(o===f[1])return c}var s=i.slice(0,-1);throw TypeError('unsupported enumerator "'+o.toJSON()+'" at "'+s.join(" -> ")+'"')}},Ze=["set","setIn"],et=Ze.concat(["delete","clear","update","merge","mergeWith","mergeDeep","mergeDeepWith","map","filter","filterNot","reverse","sort","sortBy","slice","rest","butLast","skip","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeUntil","concat","withMutations"]),tt=[],nt=Ze.concat(["add","delete","clear","union","merge","intersect","subtract","mergeDeepWith","map","filter","filterNot","reverse","sort","concat","withMutations"]),rt=[],it=Ze.concat(["delete","insert","clear","push","pop","unshift","shift","update","merge","mergeWith","mergeDeep","mergeDeepWith","map","filter","filterNot","reverse","sort","sortBy","slice","rest","butLast","skip","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeUntil","concat","withMutations"]),ut=[],ot=Ze,at=["setDate","setFullYear","setHours","setMinutes","setMilliseconds","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"],ft=new WeakMap,ct=function(e){return Object.freeze({type:e,reviver:F(e)})},st=function(e,t){return e.metadata?e.metadata.apply(e,y(t)):ct(e)},lt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length>0?st(e,t):(ft.has(e)||ft.set(e,st(e,t)),ft.get(e))},yt=function(){return Object.freeze({_:lt,base:ct,asIs:Ke,any:Qe,anyOf:Xe,number:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wrap;return void 0!==t&&t?Ee.metadata():Ke(Number)},string:O(Ke(String)),boolean:O(Ke(Boolean)),date:Pe.metadata,enumMap:ze.metadata,list:Le.metadata,map:me.metadata,stringMap:ke.metadata,maybe:re.metadata,set:Ye.metadata,withDefault:function(e,t){var n=N(e)("",t);return Object.freeze(Object.assign({},e,{default:n}))}})},vt=g($e,et,tt,m),pt=function(e,t,n){return lt(e,t).reviver("",n)},ht=function(e,t){return pt(e,[],t)},mt=function(e,t,n,r,i){return e(t,n,r).reviver("",i)},dt=function(e,t,n,r){return mt(e,t,n,[],r)},gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ModelicoModel";return function(n){function r(){return o(this,r),s(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return c(r,n),a(r,[{key:Symbol.toStringTag,get:function(){return t}}],[{key:"innerTypes",value:function(t,n){return"function"==typeof e?e(t,n):Object.freeze(e)}}]),r}(Q)},bt={about:Object.freeze({version:"19.0.5",author:"Javier Cejudo <javier@javiercejudo.com> (http://www.javiercejudo.com)",homepage:"https://github.com/javiercejudo/modelico/tree/immutable-js#readme",license:"MIT"}),Number:Ee,Date:Pe,Enum:oe,EnumMap:ze,List:Le,Map:me,StringMap:ke,Maybe:re,Base:Q,Set:Ye,createModel:gt,fields:function(e){return e[n]()},symbols:i,fromJS:ht,genericsFromJS:pt,fromJSON:function(e,t){return ht(e,JSON.parse(t))},genericsFromJSON:function(e,t,n){return pt(e,t,JSON.parse(n))},ajvFromJS:dt,ajvGenericsFromJS:mt,ajvFromJSON:function(e,t,n,r){return dt(e,t,n,JSON.parse(r))},ajvGenericsFromJSON:function(e,t,n,r,i){return mt(e,t,n,r,JSON.parse(i))},metadata:yt,ajvMetadata:Ve,getSchema:B,validate:$,withValidation:H,proxyMap:vt,proxyEnumMap:vt,proxyStringMap:vt,proxyList:g($e,it,ut,m),proxySet:g($e,nt,rt,m),proxyDate:g($e,ot,at,m)};return bt});
