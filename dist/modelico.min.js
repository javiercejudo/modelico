!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):function(){var n=e.Modelico,r=t();e.Modelico=r,r.noConflict=function(){return e.Modelico=n,r}}()}(this,function(){"use strict";var e="21.3.0",t="Javier Cejudo <javier@javiercejudo.com> (http://www.javiercejudo.com)",n="MIT",r="https://github.com/javiercejudo/modelico#readme",i=Symbol("type"),u=Symbol("fields"),o=Symbol("innerOrig"),a=Object.freeze({typeSymbol:i,fieldsSymbol:u,innerOrigSymbol:o}),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},y=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},v=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},p=function(e){return Array.isArray(e)?e:Array.from(e)},h=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},m=function(e){return function(t){return t[e]}},d=function(e,t){return function(){return t(e.apply(void 0,arguments))}},g=function(e){return!e},b=function(){return!0},O=function(e){return e},j=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return[].concat(t,[O]).reduce(d)},k=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.bind.apply(e,[void 0].concat(n))},S=function(e){return function(t,n){return e(n)}},w=function(e){return function(){return e}},M=function(e){return null==e||Number.isNaN(e)},N=d(M,g),T=function(e){if(M(e))throw TypeError("expected a value but got nothing (null, undefined or NaN)");return e},z=function(e){return function(t){return M(t)?e:t}},_=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},A=d(m("reviver"),z(S(T))),E=function(e){return"object"===("undefined"==typeof e?"undefined":f(e))&&!!e},J=function(e){return"function"==typeof e},I=Object.freeze({}),P=function(e,t){return e===t||Object.is(e,t)},x=function(e,t){return null==e||null==t?e===t:e.constructor===t.constructor},D=d(x,g),q=function(e,t){return N(e)&&e.equals?e.equals(t):P(e,t)},F=function(e){throw Error(e)},C=new WeakMap,Y=function(e,t){if(!t.innerTypes)throw Error("missing static innerTypes for "+(t.displayName||t.name));return t.innerTypes(e,t)},R=function(e,t){return C.has(t)||C.set(t,Y(e,t)),C.get(t)},U=function(e,t,n,r){return Object.keys(n).reduce(function(i,u){var o=r.concat(u),a=R(r,e),f=a[u],c=J(f)?f(n,o):f;return c?i[u]=A(c)(t,n[u],o):i[u]=n[u],i},{})},W=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==t)return n;var i=E(n)?U(e,t,n,r):n;return new e(i)}},L=new WeakMap,B=new WeakMap,$={nextRef:1,definitions:{},usedDefinitions:new Set},G=function(e){if(e.schema)return e.schema();if(!e.type||!e.type.innerTypes||0===Object.keys(R([],e.type)).length)return I;var t={type:"object"},n=e.type.innerTypes(),r=[],i=Object.keys(n).reduce(function(e,t){var i=n[t],u=K(i,!1),o=void 0;return void 0===i.default?(r.push(t),o=u):o=Object.assign({anyOf:[{type:"null"},u]},i.type===Tt.Maybe?void 0:{default:i.default}),Object.assign(e,l({},t,o))},{}),u=Object.assign({},t,{properties:i});return r.length>0&&(u.required=r),u},H=function(){var e=$.definitions,t=$.usedDefinitions;return Object.keys(e).map(Number).reduce(function(n,r){return t.has(r)&&(n[r]=e[r]),n},{})},V=function(e,t){return""!==t?Object.assign({$schema:t},e):e},K=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(L.has(e))return V(L.get(e),n);if(B.has(e)){var r=B.get(e);return $.usedDefinitions.add(r),{$ref:"#/definitions/"+r}}t&&($.nextRef=1,$.definitions={},$.usedDefinitions=new Set);var i=$.nextRef;B.set(e,i),$.nextRef+=1;var u=G(e);if(L.set(e,u),Object.assign($.definitions,l({},i,u)),!t)return u;var o=H();return 0===Object.keys(o).length?V(u,n):V({definitions:Object.assign(o,l({},i,u)),$ref:"#/definitions/"+i},n)},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{Tt.genericsFromJSON(e[Tt.symbols.typeSymbol](),t,JSON.stringify(e))}catch(e){return[!1,e]}return[!0,void 0]},X=function(e,t){return'Invalid value at "'+t.join(" > ")+'"'},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;return function(n){var r=function(r,i){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==r)return i;var o=n.reviver("",i,u);if(!e(o))throw TypeError(t(o,u));return o};return Object.assign({},n,{reviver:r})}},ee=function(e,t){return e.get(t)},te=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,r=arguments[2];if(c(this,e),!E(n))throw TypeError("expected an object with fields for "+(t.displayName||t.name)+" but got "+n);Object.freeze(n);var o={},a=R([],t);r=z(this)(r),r[i]=w(t),Object.keys(a).forEach(function(e){var t=n[e],i=a[e].default,u=void 0;if(N(t))u=t;else{if(!N(i))throw TypeError('no value for key "'+e+'"');u=a[e].default,o[e]=u}r[e]=w(u)}),r[u]=w(Object.freeze(Object.assign(o,n)))}return s(e,[{key:"get",value:function(e){return this[u]()[e]}},{key:"getIn",value:function(e){return e.reduce(ee,this)}},{key:"set",value:function(e,t){var n=Object.assign({},this[u](),l({},e,t));return new(this[i]())(n)}},{key:"setIn",value:function(e,t){if(0===e.length)return new(this[i]())(t);var n=p(e),r=n[0],u=n.slice(1),o=this[r]();return o.setIn?this.set(r,o.setIn(u,t)):this.set(r,t)}},{key:"equals",value:function(e){if(this===e)return!0;if(D(this,e))return!1;var t=this[u](),n=e[u](),r=Object.keys(t),i=Object.keys(n);return r.length===i.length&&r.every(function(e){return q(t[e],n[e])})}},{key:"toJSON",value:function(){return this[u]()}},{key:"toJS",value:function(){return JSON.parse(JSON.stringify(this))}},{key:"stringify",value:function(e){return JSON.stringify(this,null,e)}},{key:Symbol.toStringTag,get:function(){return"ModelicoModel"}}],[{key:"factory",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(e,[null].concat(n)))}}]),e}(),ne=Object.freeze(te),re=function(e){return function(t,n,r){if(""!==t)return n;var i=null===n?w(null):z(e.reviver)(e.maybeReviver);return new ae(i(t,n,r))}},ie=function(){function e(){c(this,e)}return s(e,[{key:"toJSON",value:function(){return null}}]),e}(),ue=function(){function e(t){c(this,e),this.get=w(t),Object.freeze(this)}return s(e,[{key:"toJSON",value:function(){var e=this.get();return M(e)?null:e.toJSON?e.toJSON():e}}]),e}(),oe=new ie,ae=function(e){function t(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t)),i=n&&M(e)?oe:new ue(e);return r.inner=w(i),Object.freeze(r),r}return y(t,e),s(t,[{key:"get",value:function(e){var t=e[0],n=e[1],r=this.getOrElse(t);return r.get?r.get(n):r}},{key:"set",value:function(e,n){if(this.isEmpty())return this;var r=this.inner().get();if(M(r))return this;var i=r.set?r.set(e,n):null;return new t(i)}},{key:"setIn",value:function(e,n){if(0===e.length)return t.of(n);var r=p(e),i=r[0],u=r.slice(1),o=i[0],a=i[1],f=this.isEmpty()?o:this.inner().get(),c=f.setIn?f.setIn([a].concat(h(u)),n):null;return t.of(c)}},{key:"isEmpty",value:function(){return this.inner()===oe}},{key:"getOrElse",value:function(e){return this.isEmpty()?e:this.inner().get()}},{key:"map",value:function(e){return this.isEmpty()?this:t.ofAny(e(this.inner().get()))}},{key:"toJSON",value:function(){return this.inner().toJSON()}},{key:"equals",value:function(e){if(this===e)return!0;if(D(this,e))return!1;var t=this.inner(),n=e.inner();return this.isEmpty()||e.isEmpty()?t===n:q(t.get(),n.get())}},{key:Symbol.toStringTag,get:function(){return"ModelicoMaybe"}}],[{key:"of",value:function(e){return new t(e)}},{key:"ofAny",value:function(e){return new t(e,!1)}},{key:"metadata",value:function(e){return Object.freeze({type:t,subtypes:[e],reviver:re(e),default:t.of()})}},{key:"innerTypes",value:function(){return I}}]),t}(ne);ae.displayName="Maybe",ae.EMPTY=ae.of();var fe=Object.freeze(ae),ce=function(e,t){return Object.assign(e,l({},t,{code:t}))},se=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e[n];if(M(i))throw TypeError('missing enumerator "'+n+'" at "'+r.join(" > ")+'"');return i}},le=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.displayName;c(this,t);var u=Array.isArray(e)?e.reduce(ce,{}):e;n!==t&&(n.displayName=r,Object.freeze(n));var o=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return Object.getOwnPropertyNames(u).forEach(function(e){o[e]=w(u[e]),u[e][i]=w(o),u[e].toJSON=w(e),u[e].equals=function(t){return u[e]===t}}),Object.defineProperty(o,"metadata",{value:w(Object.freeze({type:n,enumerators:u,reviver:se(u)}))}),o}return y(t,e),s(t,null,[{key:"fromObject",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(t,[null].concat(n)))}},{key:"fromArray",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(t,[null].concat(n)))}},{key:"innerTypes",value:function(){return I}}]),t}(ne);Object.defineProperty(le,"displayName",{value:"Enum",writable:!0});var ye=function(e,t,n,r){var i=e.inner();return i.set(n,r),t.fromMap(i)},ve=function(e,t){var n=t.length;if(n%2===1)throw TypeError(e.displayName+".of requires an even number of arguments");for(var r=new Map,i=0;i<n;i+=2)r.set(t[i],t[i+1]);return e.fromMap(r)},pe=function(e,t,n,r){return Object.freeze({type:e,subtypes:Object.freeze([n,r]),reviver:t(n,r)})},he=function(e,t){return e.every(function(e,n){return q(e,t[n])})},me=function(e){return new Map(e)},de=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,r=arguments[2];c(this,t);var i=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(M(n))throw TypeError("missing map");if(r&&0===n.size){var u;return u=r,v(i,u)}var a=me(n);return i[o]=w(a),i.inner=function(){return me(a)},i.size=a.size,i}return y(t,e),s(t,[{key:Symbol.iterator,value:function(){return this[o]()[Symbol.iterator]()}},{key:"has",value:function(e){return this[o]().has(e)}},{key:"get",value:function(e){return this[o]().get(e)}},{key:"setIn",value:function(e,t){if(0===e.length)return new(this[i]())(t);var n=p(e),r=n[0],u=n.slice(1),a=this[o]().get(r);return a.setIn?this.set(r,a.setIn(u,t)):this.set(r,t)}},{key:"equals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this===e)return!0;if(D(this,e)||this.size!==e.size)return!1;for(var n=this[Symbol.iterator](),r=e[Symbol.iterator](),i=0;i<this.size;i+=1){var u=n.next().value,o=t?e.has(u[0])&&q(u[1],e.get(u[0])):he(u,r.next().value);if(!o)return!1}return!0}}]),t}(ne),ge=Object.freeze(de),be=function(e,t,n){return function(r,i){return[e("",r[0],n.concat(i,0)),t("",r[1],n.concat(i,1))]}},Oe=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==n)return r;var u=A(e),o=A(t),a=null===r?null:new Map(r.map(be(u,o,i)));return ke.fromMap(a)}},je=void 0,ke=function(e){function t(e){c(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t,e,je));return je||0!==n.size||(je=n),Object.freeze(n),n}return y(t,e),s(t,[{key:"set",value:function(e,n){return ye(this,t,e,n)}},{key:"toJSON",value:function(){return[].concat(h(this))}},{key:Symbol.toStringTag,get:function(){return"ModelicoMap"}}],[{key:"fromMap",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromMap(new Map(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ve(t,n)}},{key:"fromObject",value:function(e){return t.fromArray(_(e))}},{key:"metadata",value:function(e,n){return pe(t,Oe,e,n)}},{key:"innerTypes",value:function(){return I}},{key:"EMPTY",value:function(){return je||t.of()}}]),t}(ge);ke.displayName="ModelicoMap";var Se=Object.freeze(ke),we=function(e,t){return e[t[0]]=t[1],e},Me=function(e,t,n){return function(r,i){return[].concat(h(r),[[i,e("",t[i],n.concat(i))]])}},Ne=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==t)return n;var i=A(e),u=null===n?null:new Map(Object.keys(n).reduce(Me(i,n,r),[]));return ze.fromMap(u)}},Te=void 0,ze=function(e){function t(e){c(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t,e,Te));return Te||0!==n.size||(Te=n),Object.freeze(n),n}return y(t,e),s(t,[{key:"set",value:function(e,n){return ye(this,t,e,n)}},{key:"toJSON",value:function(){return[].concat(h(this)).reduce(we,{})}},{key:Symbol.toStringTag,get:function(){return"ModelicoStringMap"}}],[{key:"fromMap",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromMap(new Map(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ve(t,n)}},{key:"fromObject",value:function(e){return t.fromArray(_(e))}},{key:"metadata",value:function(e){return pe(t,Ne,e)}},{key:"innerTypes",value:function(){return I}},{key:"EMPTY",value:function(){return Te||t.of()}}]),t}(ge);ze.displayName="StringMap";var _e=Object.freeze(ze),Ae=function(e,t){return e[t[0].toJSON()]=t[1],e},Ee=function(e,t,n,r){return function(i){var u=e("",i,r),o=t("",n[i],r.concat(i));return[u,o]}},Je=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==n)return r;var u=A(e),o=A(t),a=null===r?null:new Map(Object.keys(r).map(Ee(u,o,r,i)));return new Pe(a)}},Ie=void 0,Pe=function(e){function t(e){c(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t,e,Ie));return Ie||0!==n.size||(Ie=n),Object.freeze(n),n}return y(t,e),s(t,[{key:"set",value:function(e,n){return ye(this,t,e,n)}},{key:"toJSON",value:function(){return[].concat(h(this)).reduce(Ae,{})}},{key:Symbol.toStringTag,get:function(){return"ModelicoEnumMap"}}],[{key:"fromMap",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromMap(new Map(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ve(t,n)}},{key:"metadata",value:function(e,n){return pe(t,Je,e,n)}},{key:"innerTypes",value:function(){return I}},{key:"EMPTY",value:function(){return Ie||t.of()}}]),t}(ge);Pe.displayName="EnumMap";var xe=Object.freeze(Pe),De=function(e,t){return qe.of(t)},qe=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;c(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));if(!Number.isNaN(e)&&M(e))throw TypeError("missing number");return n.inner=w(Number(e)),Object.freeze(n),n}return y(t,e),s(t,[{key:"set",value:function(){F("Number.set is not supported")}},{key:"setIn",value:function(e,n){return 0===e.length?t.of(n):void F("ModelicoNumber.setIn is not supported for non-empty paths")}},{key:"toJSON",value:function(){var e=this.inner();return Object.is(e,-0)?"-0":e===1/0?"Infinity":e===-(1/0)?"-Infinity":Number.isNaN(e)?"NaN":e}},{key:"equals",value:function(e){return this===e||!D(this,e)&&P(this.inner(),e.inner())}},{key:Symbol.toStringTag,get:function(){return"ModelicoNumber"}}],[{key:"of",value:function(e){return new t(e)}},{key:"metadata",value:function(){return Object.freeze({type:t,reviver:De})}},{key:"innerTypes",value:function(){return I}}]),t}(ne);qe.displayName="ModelicoNumber";var Fe=Object.freeze(qe),Ce=function(e,t){var n=null===t?null:new Date(t);return new Ye(n)},Ye=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;c(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));if(M(e))throw TypeError("missing date");var r=new Date(e.getTime());return n.inner=function(){return new Date(r.getTime())},Object.freeze(n),n}return y(t,e),s(t,[{key:"set",value:function(){F("Date.set is not supported")}},{key:"setIn",value:function(e,n){return 0===e.length?t.of(n):void F("Date.setIn is not supported for non-empty paths")}},{key:"toJSON",value:function(){return this.inner().toISOString()}},{key:"equals",value:function(e){return this===e||!D(this,e)&&this.toJSON()===e.toJSON()}},{key:Symbol.toStringTag,get:function(){return"ModelicoDate"}}],[{key:"of",value:function(e){return new t(e)}},{key:"metadata",value:function(){return Object.freeze({type:t,reviver:Ce})}},{key:"innerTypes",value:function(){return I}}]),t}(ne);Ye.displayName="ModelicoDate";var Re=Object.freeze(Ye),Ue=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==n)return r;var u=Array.isArray(t);if(u&&r.length!==t.length)throw TypeError("tuple has missing or extra items");var o=u?function(e){return t[e]}:w(t),a=function(e,t){return A(o(t))("",e,i.concat(t))},f=null===r?null:r.map(a);return new e(f)}},We=function(e,t){return Object.freeze({type:e,subtypes:Object.freeze([t]),reviver:Ue(e,t)})},Le=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(D(e,t)||e.size!==t.size)return!1;for(var r=e[Symbol.iterator](),i=t[Symbol.iterator](),u=0;u<e.size;u+=1){var o=r.next().value;if(n){if(!t.has(o))return!1}else if(!q(o,i.next().value))return!1}return!0},Be=void 0,$e=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];c(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));if(M(e))throw TypeError("missing list");if(Be&&0===e.length){var r;return r=Be,v(n,r)}return Object.freeze(e),n.inner=w(e),n[o]=n.inner,n.size=e.length,Be||0!==n.size||(Be=n),Object.freeze(n),n}return y(t,e),s(t,[{key:Symbol.iterator,value:function(){return this.inner()[Symbol.iterator]()}},{key:"includes",value:function(){var e;return(e=this.inner()).includes.apply(e,arguments)}},{key:"get",value:function(e){return this.inner()[e]}},{key:"set",value:function(e,n){var r=[].concat(h(this));return r[e]=n,t.fromArray(r)}},{key:"setIn",value:function(e,n){if(0===e.length)return t.fromArray(n);var r=p(e),i=r[0],u=r.slice(1),o=this.inner()[i];return o.setIn?this.set(i,o.setIn(u,n)):this.set(i,n)}},{key:"toJSON",value:function(){return this.inner()}},{key:"equals",value:function(e){return Le(this,e)}},{key:Symbol.toStringTag,get:function(){return"ModelicoList"}}],[{key:"fromArray",value:function(e){return new t(e)}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.fromArray(n)}},{key:"metadata",value:function(e){return We(t,e)}},{key:"innerTypes",value:function(){return I}},{key:"EMPTY",value:function(){return Be||t.of()}}]),t}(ne);$e.displayName="List";var Ge=Object.freeze($e),He=void 0,Ve=function(e){return new Set(e)},Ke=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;c(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));if(M(e))throw TypeError("missing set");if(He&&0===e.size){var r;return r=He,v(n,r)}var i=Ve(e);return n[o]=w(i),n.inner=function(){return Ve(i)},n.size=i.size,He||0!==n.size||(He=n),Object.freeze(n),n}return y(t,e),s(t,[{key:Symbol.iterator,value:function(){return this.inner()[Symbol.iterator]()}},{key:"has",value:function(e){return this[o]().has(e)}},{key:"set",value:function(){F("Set.set is not supported")}},{key:"setIn",value:function(e,n){return 0===e.length?new t(n):void F("Set.setIn is not supported for non-empty paths")}},{key:"toJSON",value:function(){return[].concat(h(this))}},{key:"equals",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Le.apply(void 0,[this].concat(t))}},{key:Symbol.toStringTag,get:function(){return"ModelicoSet"}}],[{key:"fromSet",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromSet(new Set(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.fromArray(n)}},{key:"metadata",value:function(e){return We(t,e)}},{key:"innerTypes",value:function(){return I}},{key:"EMPTY",value:function(){return He||t.of()}}]),t}(ne);Ke.displayName="ModelicoSet";var Qe=Object.freeze(Ke),Xe=function(e,t,n,r,i){return e.includes(i)?function(){var u=r[i].apply(r,arguments);return et(e,t,n,u)}:r[i]},Ze=function(e,t,n,r,i,u,o){return n.includes(o)?function(){for(var o=arguments.length,a=Array(o),f=0;f<o;f++)a[f]=arguments[f];var c=u.setIn([],t.apply(e,a));return et(n,r,i,c)}:r.includes(o)?function(){for(var o=arguments.length,a=Array(o),f=0;f<o;f++)a[f]=arguments[f];t.apply(e,a);var c=u.setIn([],e);return et(n,r,i,c)}:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.apply(e,r)}},et=function(e,t,n,r){var i=function(r,i){if(i in r)return Xe(e,t,n,r,i);var u=n(r.inner()),o=u[i];return"function"==typeof o?Ze(u,o,e,t,n,r,i):o};return new Proxy(r,{get:i})},tt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return['Invalid JSON at "'+r.join(" > ")+'". According to the schema\n',JSON.stringify(t,null,2)+"\n",'the value (data path "'+e.errors.filter(function(e){return""!==e.dataPath}).map(function(e){return e.dataPath})+'")\n',JSON.stringify(n,null,2)+"\n"].concat(e.errors.map(function(e){return e.message})).join("\n")},nt=function(e,t,n){return["Invalid default value. According to the schema\n",JSON.stringify(t,null,2)+"\n","the default value\n",JSON.stringify(n,null,2)+"\n"].concat(e.errors.map(function(e){return e.message})).join("\n")},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{validate:b},t=Tt.metadata(),n={},r=t._,i=t.base,u=t.asIs,o=t.any,a=t.string,f=t.number,c=t.boolean,s=t.date,y=t.enumMap,v=t.list,p=t.map,h=t.stringMap,m=t.set,d=t.maybe,g=t.withDefault,j=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O;return function(i,u,o){if(""!==i)return u;var a=n===I||e.validate(n,r(u));if(!a)throw TypeError(tt(e,n,u,o));return t.reviver("",u,o)}},k=function(e,t,n){return function(r,i){if(""!==r)return i;var u=j(e,t)(r,i);return j(o(),n,function(e){return e.inner()})(r,u)}},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w(I),i=t===I&&n===I?I:Object.assign({},t,n),u=j(e,i),o=function(){return Object.assign({},i,r())};return Object.assign({},e,{reviver:u,ownSchema:w(i),schema:o})};n.ajv_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,n=arguments[2],i=r(e,n);return S(i,I,t,function(){return K(i,!1)})},n.ajvBase=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,n=i(e);return S(n,{type:"object"},t,function(){return K(n,!1)})},n.ajvAsIs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;return S(u(t),e)},n.ajvAny=function(e){return n.ajvAsIs(e)},n.ajvNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,n=t.wrap,r=void 0!==n&&n,i=f(t);if(!r)return S(i,{type:"number"},e);var u=Object.assign({type:"number"},e),o=k(i,{anyOf:[{type:"number"},{type:"string",enum:["-0","-Infinity","Infinity","NaN"]}]},u);return Object.assign({},i,{reviver:o,ownSchema:w(u),schema:w(u)})},n.ajvString=function(e){return S(a(),{type:"string"},e)},n.ajvBoolean=function(e){return S(c(),{type:"boolean"},e)},n.ajvDate=function(e){return S(s(),{type:"string",format:"date-time"},e)},n.ajvEnum=function(e){var t=r(e);return S(t,{type:"string",enum:Object.keys(t.enumerators)})},n.ajvEnumMap=function(e,t,n){var r=Object.keys(t.enumerators),i="^("+r.join("|")+")$";return S(y(t,n),{type:"object",maxProperties:r.length,additionalProperties:!1,patternProperties:l({},i,{})},e,function(){return{patternProperties:l({},i,K(n,!1))}})};var M=function(e,t){return S(v(t),{type:"array"},e,function(){return{items:K(t,!1)}})},N=function(e,t){var n=t.length;return S(v(t),{type:"array",minItems:n,maxItems:n,items:t.map(function(e){return K(e,!1)})},e)};return n.ajvList=function(e,t){return Array.isArray(t)?N(e,t):M(e,t)},n.ajvMap=function(e,t,n){var r={type:"array",items:{type:"array",minItems:2,maxItems:2}},i=function(){return{items:Object.assign({items:[K(t,!1),K(n,!1)]},r.items)}};return S(p(t,n),r,e,i)},n.ajvStringMap=function(e,t){return S(h(t),{type:"object"},e,function(){return{additionalProperties:!1,patternProperties:{".*":K(t,!1)}}})},n.ajvSet=function(e,t){return S(m(t),{type:"array",uniqueItems:!0},e,function(){return{items:K(t,!1)}})},n.ajvMaybe=function(e){return S(d(e),I,I,function(){return K(e,!1)})},n.ajvWithDefault=function(t,n){var r=K(t,!1),i=e.validate(r,n);if(!i)throw TypeError(nt(e,r,n));return S(g(t,n),{default:n},I,w(r))},Object.freeze(Object.assign(n,t))},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return Object.freeze({type:e,reviver:S(j(T,e)),maybeReviver:S(e)})},ut=w(it(O)),ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"type";return function(n,r){if(0===e.length)return ut;for(var u=e[0][1][i](),o=u.metadata().reviver("",n[t]),a=0;a<e.length;a+=1){var f=e[a],c=f[0],s=f[1];if(o===s)return c}var l=r.slice(0,-1);throw TypeError('unsupported enumerator "'+o.toJSON()+'" at "'+l.join(" > ")+'"')}},at=["set","setIn"],ft=at,ct=["delete","clear"],st=at,lt=["add","delete","clear"],yt=at.concat(["concat","slice","filter"]),vt=["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"],pt=at,ht=["setDate","setFullYear","setHours","setMinutes","setMilliseconds","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"],mt=new WeakMap,dt=function(e){return Object.freeze({type:e,reviver:W(e)})},gt=function(e,t){return e.metadata?e.metadata.apply(e,h(t)):dt(e)},bt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length>0?gt(e,t):(mt.has(e)||mt.set(e,gt(e,t)),mt.get(e))},Ot=function(){return Object.freeze({_:bt,base:dt,asIs:it,any:ut,anyOf:ot,number:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wrap,n=void 0!==t&&t;return n?Fe.metadata():it(Number)},string:w(it(String)),boolean:w(it(Boolean)),date:Re.metadata,enumMap:xe.metadata,list:Ge.metadata,map:Se.metadata,stringMap:_e.metadata,maybe:fe.metadata,set:Qe.metadata,withDefault:function(e,t){var n=A(e)("",t);return Object.freeze(Object.assign({},e,{default:n}))}})},jt=k(et,ft,ct,O),kt=function(e,t,n){return bt(e,t).reviver("",n)},St=function(e,t){return kt(e,[],t)},wt=function(e,t,n,r,i){return e(t,n,r).reviver("",i)},Mt=function(e,t,n,r){return wt(e,t,n,[],r)},Nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ModelicoModel";return function(n){function r(){return c(this,r),v(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return y(r,n),s(r,[{key:Symbol.toStringTag,get:function(){return t}}],[{key:"innerTypes",value:function(t,n){return"function"==typeof e?e(t,n):Object.freeze(e)}}]),r}(ne)},Tt={about:Object.freeze({version:e,author:t,homepage:r,license:n}),Number:Fe,Date:Re,Enum:le,EnumMap:xe,List:Ge,Map:Se,StringMap:_e,Maybe:fe,Base:ne,Set:Qe,createModel:Nt,fields:function(e){return e[u]()},symbols:a,fromJS:St,genericsFromJS:kt,fromJSON:function(e,t){return St(e,JSON.parse(t))},genericsFromJSON:function(e,t,n){return kt(e,t,JSON.parse(n))},ajvFromJS:Mt,ajvGenericsFromJS:wt,ajvFromJSON:function(e,t,n,r){return Mt(e,t,n,JSON.parse(r))},ajvGenericsFromJSON:function(e,t,n,r,i){return wt(e,t,n,r,JSON.parse(i))},metadata:Ot,ajvMetadata:rt,getSchema:K,validate:Q,withValidation:Z,proxyMap:jt,proxyEnumMap:jt,proxyStringMap:jt,proxyList:k(et,yt,vt,function(e){return[].concat(h(e))}),proxySet:k(et,st,lt,O),proxyDate:k(et,pt,ht,O)};return Tt});
