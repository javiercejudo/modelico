!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):function(){var n=e.Modelico,r=t();e.Modelico=r,r.noConflict=function(){return e.Modelico=n,r}}()}(this,function(){"use strict";var e=Symbol("type"),t=Symbol("fields"),n=Symbol("innerOrig"),r=Object.freeze({typeSymbol:e,fieldsSymbol:t,innerOrigSymbol:n}),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},f=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},s=function(e){return Array.isArray(e)?e:Array.from(e)},l=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},v=function(e,t){return function(){return t(e.apply(void 0,arguments))}},y=function(e){return!e},p=function(){return!0},h=function(e){return e},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return[].concat(t,[h]).reduce(v)},m=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.bind.apply(e,[void 0].concat(n))},g=function(e){return function(t,n){return e(n)}},b=function(e){return function(){return e}},O=function(e){return null==e||Number.isNaN(e)},j=v(O,y),k=function(e){if(O(e))throw TypeError("expected a value but got nothing (null, undefined or NaN)");return e},S=function(e){return function(t){return O(t)?e:t}},w=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},M=v(function(e){return function(t){return t[e]}}("reviver"),S(g(k))),N=function(e){return"object"===(void 0===e?"undefined":i(e))&&!!e},_=function(e){return"function"==typeof e},z=Object.freeze({}),T=function(e,t){return e===t||Object.is(e,t)},A=function(e,t){return null==e||null==t?e===t:e.constructor===t.constructor},J=v(A,y),E=function(e,t){return j(e)&&e.equals?e.equals(t):T(e,t)},I=function(e){throw Error(e)},P=new WeakMap,x=function(e,t){return t.innerTypes(e,t)},D=function(e,t){return P.has(t)||P.set(t,x(e,t)),P.get(t)},C=new WeakMap,q=void 0,F=function(){return{nextRef:1,definitions:{},usedDefinitions:new Set,metadataRefCache:new WeakMap}},R=function(e){if(e.schema)return e.schema();var t=e.type&&e.type.innerTypes,n=t?D([],e.type):z;if(0===Object.keys(n).length)return z;var r={type:"object"},i=[],u=Object.keys(n).reduce(function(e,t){var r=n[t],u=U(r,!1),o=void 0;return void 0===r.default?(i.push(t),o=u):o=Object.assign({anyOf:[{type:"null"},u]},r.type===Mt.Maybe?void 0:{default:r.default}),Object.assign(e,a({},t,o))},{}),o=Object.assign({},r,{properties:u});return i.length>0&&(o.required=i),o},Y=function(){var e=q,t=e.definitions,n=e.usedDefinitions;return Object.keys(t).map(Number).reduce(function(e,r){return n.has(r)&&(e[r]=t[r]),e},{})},U=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(C.has(e))return C.get(e);if(t&&(q=F()),q.metadataRefCache.has(e)){var n=q.metadataRefCache.get(e);return q.usedDefinitions.add(n),{$ref:"#/definitions/"+n}}var r=q.nextRef;q.metadataRefCache.set(e,r),q.nextRef+=1;var i=R(e);if(Object.assign(q.definitions,a({},r,i)),!t){var u=q.metadataRefCache.get(e),o=Object.keys(i);return!u||o.length<=1&&!Array.isArray(i[o[0]])?i:(q.usedDefinitions.add(u),{$ref:"#/definitions/"+u})}var f=Y(),c=0===Object.keys(f).length?i:f.hasOwnProperty(r)?{definitions:Object.assign(f,a({},r,i)),$ref:"#/definitions/"+r}:Object.assign(i,{definitions:f});return C.set(e,c),c},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{Mt.genericsFromJSON(e[Mt.symbols.typeSymbol](),t,JSON.stringify(e))}catch(e){return[!1,e]}return[!0,void 0]},L=function(e,t){return'Invalid value at "'+t.join(" -> ")+'"'},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;return function(n){var r=function(r,i){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==r)return i;var o=n.reviver("",i,u);if(!e(o))throw TypeError(t(o,u));return o};return Object.assign({},n,{reviver:r})}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return Object.freeze({type:e,reviver:g(d(k,e)),maybeReviver:g(e)})},G=b($(h)),H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"type";return function(r,i){if(0===t.length)return G;for(var u=t[0][1][e](),o=u.metadata().reviver("",r[n]),a=0;a<t.length;a+=1){var f=t[a],c=f[0];if(o===f[1])return c}var s=i.slice(0,-1);throw TypeError('unsupported enumerator "'+o.toJSON()+'" at "'+s.join(" -> ")+'"')}},V=function(e,t,n,r){return Object.keys(n).reduce(function(i,u){var o=r.concat(u),a=D(r,e),f=a[u],c=_(f)?f(n,o):f;return i[u]=c?M(c)(t,n[u],o):n[u],i},{})},K=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return""!==t?n:new e(N(n)?V(e,t,n,r):n)}},Q=function(e,t){return e.get(t)},X=function(){function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,o=arguments[2];if(u(this,n),!N(i))throw TypeError("expected an object with fields for "+(r.displayName||r.name)+" but got "+i);Object.freeze(i);var a={},f=D([],r);o=S(this)(o),o[e]=b(r),Object.keys(f).forEach(function(e){var t=i[e],n=f[e].default,r=void 0;if(j(t))r=t;else{if(!j(n))throw TypeError('no value for key "'+e+'"');r=f[e].default,a[e]=r}o[e]=b(r)}),o[t]=b(Object.freeze(Object.assign(a,i)))}return o(n,[{key:"get",value:function(e){return this[t]()[e]}},{key:"getIn",value:function(e){return e.reduce(Q,this)}},{key:"copy",value:function(n){var r=Object.assign({},this[t](),n);return new(this[e]())(r)}},{key:"set",value:function(e,t){return this.copy(a({},e,t))}},{key:"setIn",value:function(e,t){if(0===e.length)return this.copy(t);var n=s(e),r=n[0],i=n.slice(1),u=this[r]();return u.setIn?this.set(r,u.setIn(i,t)):this.set(r,t)}},{key:"equals",value:function(e){if(this===e)return!0;if(J(this,e))return!1;var n=this[t](),r=e[t](),i=Object.keys(n),u=Object.keys(r);return i.length===u.length&&i.every(function(e){return E(n[e],r[e])})}},{key:"toJSON",value:function(){return this[t]()}},{key:"toJS",value:function(){return JSON.parse(JSON.stringify(this))}},{key:"stringify",value:function(e){return JSON.stringify(this,null,e)}},{key:Symbol.toStringTag,get:function(){return"ModelicoModel"}}],[{key:"innerTypes",value:function(){return z}},{key:"factory",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new(Function.prototype.bind.apply(n,[null].concat(t)))}}]),n}(),Z=Object.freeze(X),ee=function(e,t,n,r){var i=e.inner();return i.set(n,r),t.fromMap(i)},te=function(e,t){var n=t.length;if(n%2==1)throw TypeError(e.displayName+".of requires an even number of arguments");for(var r=new Map,i=0;i<n;i+=2)r.set(t[i],t[i+1]);return e.fromMap(r)},ne=function(e,t,n,r){return Object.freeze({type:e,subtypes:Object.freeze([n,r]),reviver:t(n,r)})},re=function(e,t){return e.every(function(e,n){return E(e,t[n])})},ie=function(e){return new Map(e)},ue=function(t){function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,i=arguments[2];u(this,r);var o=c(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));if(O(t))throw TypeError("missing map");if(i&&0===t.size){var a;return a=i,c(o,a)}var f=ie(t);return o[n]=b(f),o.inner=function(){return ie(f)},o.size=f.size,o}return f(r,t),o(r,[{key:Symbol.iterator,value:function(){return this[n]()[Symbol.iterator]()}},{key:"has",value:function(e){return this[n]().has(e)}},{key:"get",value:function(e){return this[n]().get(e)}},{key:"setIn",value:function(t,r){if(0===t.length)return new(this[e]())(r);var i=s(t),u=i[0],o=i.slice(1),a=this[n]().get(u);return a.setIn?this.set(u,a.setIn(o,r)):this.set(u,r)}},{key:"equals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this===e)return!0;if(J(this,e)||this.size!==e.size)return!1;for(var n=this[Symbol.iterator](),r=e[Symbol.iterator](),i=0;i<this.size;i+=1){var u=n.next().value;if(!(t?e.has(u[0])&&E(u[1],e.get(u[0])):re(u,r.next().value)))return!1}return!0}}]),r}(Z),oe=Object.freeze(ue),ae=function(e,t,n){return function(r,i){return[e("",r[0],n.concat(i,0)),t("",r[1],n.concat(i,1))]}},fe=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==n)return r;var u=M(_(e)?e(r,i):e),o=M(_(t)?t(r,i):t),a=null===r?null:new Map(r.map(ae(u,o,i)));return se.fromMap(a)}},ce=void 0,se=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t,e,ce));return ce||0!==n.size||(ce=n),Object.freeze(n),n}return f(t,e),o(t,[{key:"set",value:function(e,n){return ee(this,t,e,n)}},{key:"toJSON",value:function(){return[].concat(l(this))}},{key:Symbol.toStringTag,get:function(){return"ModelicoMap"}}],[{key:"fromMap",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromMap(new Map(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return te(t,n)}},{key:"fromObject",value:function(e){return t.fromArray(w(e))}},{key:"metadata",value:function(e,n){return ne(t,fe,e,n)}},{key:"EMPTY",value:function(){return ce||t.of()}}]),t}(oe);se.displayName="ModelicoMap";var le=Object.freeze(se),ve=function(e,t){return e[t[0]]=t[1],e},ye=function(e,t,n){return function(r,i){return[].concat(l(r),[[i,e("",t[i],n.concat(i))]])}},pe=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==t)return n;var i=M(_(e)?e(n,r):e),u=null===n?null:new Map(Object.keys(n).reduce(ye(i,n,r),[]));return de.fromMap(u)}},he=void 0,de=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t,e,he));return he||0!==n.size||(he=n),Object.freeze(n),n}return f(t,e),o(t,[{key:"set",value:function(e,n){return ee(this,t,e,n)}},{key:"toJSON",value:function(){return[].concat(l(this)).reduce(ve,{})}},{key:Symbol.toStringTag,get:function(){return"ModelicoStringMap"}}],[{key:"fromMap",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromMap(new Map(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return te(t,n)}},{key:"fromObject",value:function(e){return t.fromArray(w(e))}},{key:"metadata",value:function(e){return ne(t,pe,e)}},{key:"EMPTY",value:function(){return he||t.of()}}]),t}(oe);de.displayName="StringMap";var me=Object.freeze(de),ge=function(e,t){return e[t[0].toJSON()]=t[1],e},be=function(e,t,n,r){return function(i){return[e("",i,r),t("",n[i],r.concat(i))]}},Oe=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==n)return r;var u=M(_(e)?e(r,i):e),o=M(_(t)?t(r,i):t);return new ke(null===r?null:new Map(Object.keys(r).map(be(u,o,r,i))))}},je=void 0,ke=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t,e,je));return je||0!==n.size||(je=n),Object.freeze(n),n}return f(t,e),o(t,[{key:"set",value:function(e,n){return ee(this,t,e,n)}},{key:"toJSON",value:function(){return[].concat(l(this)).reduce(ge,{})}},{key:Symbol.toStringTag,get:function(){return"ModelicoEnumMap"}}],[{key:"fromMap",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromMap(new Map(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return te(t,n)}},{key:"metadata",value:function(e,n){return ne(t,Oe,e,n)}},{key:"EMPTY",value:function(){return je||t.of()}}]),t}(oe);ke.displayName="EnumMap";var Se=Object.freeze(ke),we=function(e,t){return Me.of(t)},Me=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));if(!Number.isNaN(e)&&O(e))throw TypeError("missing number");return n.inner=b(Number(e)),Object.freeze(n),n}return f(t,e),o(t,[{key:"set",value:function(){I("Number.set is not supported")}},{key:"setIn",value:function(e,n){if(0===e.length)return t.of(n);I("ModelicoNumber.setIn is not supported for non-empty paths")}},{key:"toJSON",value:function(){var e=this.inner();return Object.is(e,-0)?"-0":e===1/0?"Infinity":e===-(1/0)?"-Infinity":Number.isNaN(e)?"NaN":e}},{key:"equals",value:function(e){return this===e||!J(this,e)&&T(this.inner(),e.inner())}},{key:Symbol.toStringTag,get:function(){return"ModelicoNumber"}}],[{key:"of",value:function(e){return new t(e)}},{key:"metadata",value:function(){return Object.freeze({type:t,reviver:we})}}]),t}(Z);Me.displayName="ModelicoNumber";var Ne=Object.freeze(Me),_e=function(e,t){return new ze(null===t?null:new Date(t))},ze=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));if(O(e))throw TypeError("missing date");var r=new Date(e.getTime());return n.inner=function(){return new Date(r.getTime())},Object.freeze(n),n}return f(t,e),o(t,[{key:"set",value:function(){I("Date.set is not supported")}},{key:"setIn",value:function(e,n){if(0===e.length)return t.of(n);I("Date.setIn is not supported for non-empty paths")}},{key:"toJSON",value:function(){return this.inner().toISOString()}},{key:"equals",value:function(e){return this===e||!J(this,e)&&this.toJSON()===e.toJSON()}},{key:Symbol.toStringTag,get:function(){return"ModelicoDate"}}],[{key:"of",value:function(e){return new t(e)}},{key:"metadata",value:function(){return Object.freeze({type:t,reviver:_e})}}]),t}(Z);ze.displayName="ModelicoDate";var Te=Object.freeze(ze),Ae=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""!==n)return r;var u=Array.isArray(t);if(u&&r.length!==t.length)throw TypeError("tuple has missing or extra items");var o=u?function(e){return _(t[e])?t[e](r,i):t[e]}:b(_(t)?t(r,i):t),a=function(e,t){return M(o(t))("",e,i.concat(t))};return new e(null===r?null:r.map(a))}},Je=function(e,t){return Object.freeze({type:e,subtypes:Object.freeze([t]),reviver:Ae(e,t)})},Ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(J(e,t)||e.size!==t.size)return!1;for(var r=e[Symbol.iterator](),i=t[Symbol.iterator](),u=0;u<e.size;u+=1){var o=r.next().value;if(n){if(!t.has(o))return!1}else if(!E(o,i.next().value))return!1}return!0},Ie=void 0,Pe=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];u(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));if(O(e))throw TypeError("missing list");if(Ie&&0===e.length){var i;return i=Ie,c(r,i)}return Object.freeze(e),r.inner=b(e),r[n]=r.inner,r.size=e.length,Ie||0!==r.size||(Ie=r),Object.freeze(r),r}return f(t,e),o(t,[{key:Symbol.iterator,value:function(){return this.inner()[Symbol.iterator]()}},{key:"includes",value:function(){var e;return(e=this.inner()).includes.apply(e,arguments)}},{key:"get",value:function(e){return this.inner()[e]}},{key:"set",value:function(e,n){var r=[].concat(l(this));return r[e]=n,t.fromArray(r)}},{key:"setIn",value:function(e,n){if(0===e.length)return t.fromArray(n);var r=s(e),i=r[0],u=r.slice(1),o=this.inner()[i];return o.setIn?this.set(i,o.setIn(u,n)):this.set(i,n)}},{key:"toJSON",value:function(){return this.inner()}},{key:"equals",value:function(e){return Ee(this,e)}},{key:Symbol.toStringTag,get:function(){return"ModelicoList"}}],[{key:"fromArray",value:function(e){return new t(e)}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.fromArray(n)}},{key:"metadata",value:function(e){return Je(t,e)}},{key:"EMPTY",value:function(){return Ie||t.of()}}]),t}(Z);Pe.displayName="List";var xe=Object.freeze(Pe),De=void 0,Ce=function(e){return new Set(e)},qe=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;u(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t));if(O(e))throw TypeError("missing set");if(De&&0===e.size){var i;return i=De,c(r,i)}var o=Ce(e);return r[n]=b(o),r.inner=function(){return Ce(o)},r.size=o.size,De||0!==r.size||(De=r),Object.freeze(r),r}return f(t,e),o(t,[{key:Symbol.iterator,value:function(){return this.inner()[Symbol.iterator]()}},{key:"has",value:function(e){return this[n]().has(e)}},{key:"set",value:function(){I("Set.set is not supported")}},{key:"setIn",value:function(e,n){if(0===e.length)return new t(n);I("Set.setIn is not supported for non-empty paths")}},{key:"toJSON",value:function(){return[].concat(l(this))}},{key:"equals",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ee.apply(void 0,[this].concat(t))}},{key:Symbol.toStringTag,get:function(){return"ModelicoSet"}}],[{key:"fromSet",value:function(e){return new t(e)}},{key:"fromArray",value:function(e){return t.fromSet(new Set(e))}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.fromArray(n)}},{key:"metadata",value:function(e){return Je(t,e)}},{key:"EMPTY",value:function(){return De||t.of()}}]),t}(Z);qe.displayName="ModelicoSet";var Fe=Object.freeze(qe),Re=function(e){return function(t,n,r){if(""!==t)return n;var i=_(e)?e(n,r):e,u=null===n?b(null):S(i.reviver)(i.maybeReviver),o=u(t,n,r);return Ye.of(o)}},Ye=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t))}return f(t,e),o(t,[{key:"get",value:function(e){var t=e[0],n=e[1],r=this.getOrElse(t);return r.get?r.get(n):r}},{key:"set",value:function(e,n){if(this.isEmpty())return this;var r=this.inner();if(O(r))return this;var i=r.set?r.set(e,n):null;return t.of(i)}},{key:"setIn",value:function(e,n){if(0===e.length)return t.of(n);var r=s(e),i=r[0],u=r.slice(1),o=i[0],a=i[1],f=this.isEmpty()?o:this.inner(),c=f.setIn?f.setIn([a].concat(l(u)),n):null;return t.of(c)}}],[{key:"of",value:function(e){return O(e)?new We:new Le(e)}},{key:"metadata",value:function(e){return Object.freeze({type:t,subtypes:[e],reviver:Re(e),default:new We})}}]),t}(Z);Ye.displayName="Maybe";var Ue=void 0,We=function(e){function t(){var e;u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Ue||(n.inner=b(TypeError("nothing holds no value")),Ue=n),e=Ue,c(n,e)}return f(t,e),o(t,[{key:"toJSON",value:function(){return null}},{key:"isEmpty",value:function(){return!0}},{key:"getOrElse",value:function(e){return e}},{key:"map",value:function(){return this}},{key:"equals",value:function(e){return this===e}},{key:Symbol.toStringTag,get:function(){return"ModelicoNothing"}}]),t}(Ye),Le=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.inner=b(e),Object.freeze(n),n}return f(t,e),o(t,[{key:"toJSON",value:function(){var e=this.inner();return O(e)?null:e.toJSON?e.toJSON():e}},{key:"isEmpty",value:function(){return!1}},{key:"getOrElse",value:function(e){return this.inner()}},{key:"map",value:function(e){return t.of(e(this.inner()))}},{key:"equals",value:function(e){return this===e||!J(this,e)&&E(this.inner(),e.inner())}},{key:Symbol.toStringTag,get:function(){return"ModelicoJust"}}],[{key:"of",value:function(e){return new t(e)}}]),t}(Ye);Le.displayName="Just",Ye.Nothing=new We,Ye.Just=Le;var Be=Object.freeze(Ye),$e=new WeakMap,Ge=function(e){return Object.freeze({type:e,reviver:K(e)})},He=function(e,t){return e.metadata?e.metadata.apply(e,l(t)):Ge(e)},Ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length>0?He(e,t):($e.has(e)||$e.set(e,He(e,t)),$e.get(e))},Ke=function(){return Object.freeze({_:Ve,base:Ge,asIs:$,any:G,anyOf:H,number:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wrap;return void 0!==t&&t?Ne.metadata():$(Number)},string:b($(String)),boolean:b($(Boolean)),date:Te.metadata,enumMap:Se.metadata,list:xe.metadata,map:le.metadata,stringMap:me.metadata,maybe:Be.metadata,set:Fe.metadata,withDefault:function(e,t){var n=M(e)("",t);return Object.freeze(Object.assign({},e,{default:n}))}})},Qe=function(e,t){return Object.assign(e,a({},t,{code:t}))},Xe=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e[n];if(O(i))throw TypeError('missing enumerator "'+n+'" at "'+r.join(" -> ")+'"');return i}},Ze=function(t){function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.displayName;u(this,n);var o=Array.isArray(t)?t.reduce(Qe,{}):t;r!==n&&(r.displayName=i,Object.freeze(r));var a=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r));return Object.getOwnPropertyNames(o).forEach(function(t){a[t]=b(o[t]),o[t][e]=b(a),o[t].toJSON=b(t),o[t].equals=function(e){return o[t]===e}}),Object.defineProperty(a,"metadata",{value:b(Object.freeze({type:r,enumerators:o,reviver:Xe(o)}))}),a}return f(n,t),o(n,null,[{key:"fromObject",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new(Function.prototype.bind.apply(n,[null].concat(t)))}},{key:"fromArray",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new(Function.prototype.bind.apply(n,[null].concat(t)))}}]),n}(Z);Object.defineProperty(Ze,"displayName",{value:"Enum",writable:!0});var et=function(e,t,n,r,i){return e.includes(i)?function(){return nt(e,t,n,r[i].apply(r,arguments))}:r[i]},tt=function(e,t,n,r,i,u,o){return n.includes(o)?function(){for(var o=arguments.length,a=Array(o),f=0;f<o;f++)a[f]=arguments[f];return nt(n,r,i,u.setIn([],t.apply(e,a)))}:r.includes(o)?function(){for(var o=arguments.length,a=Array(o),f=0;f<o;f++)a[f]=arguments[f];return t.apply(e,a),nt(n,r,i,u.setIn([],e))}:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.apply(e,r)}},nt=function(e,t,n,r){var i=function(r,i){if(i in r)return et(e,t,n,r,i);var u=n(r.inner()),o=u[i];return"function"==typeof o?tt(u,o,e,t,n,r,i):o};return new Proxy(r,{get:i})},rt=function(e,t,n){return['Invalid JSON at "'+(arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]).join(" -> ")+'". According to the schema\n',JSON.stringify(t,null,2)+"\n",'the value (data path "'+e.errors.filter(function(e){return""!==e.dataPath}).map(function(e){return e.dataPath})+'")\n',JSON.stringify(n,null,2)+"\n"].concat(e.errors.map(function(e){return e.message})).join("\n")},it=function(e,t,n){return["Invalid default value. According to the schema\n",JSON.stringify(t,null,2)+"\n","the default value\n",JSON.stringify(n,null,2)+"\n"].concat(e.errors.map(function(e){return e.message})).join("\n")},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{validate:p},t=Mt.metadata(),n={},r=t._,i=t.base,u=t.asIs,o=t.any,f=t.anyOf,c=t.string,s=t.number,l=t.boolean,v=t.date,y=t.enumMap,d=t.list,m=t.map,g=t.stringMap,O=t.set,j=t.maybe,k=t.withDefault,S=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return function(i,u,o){if(""!==i)return u;if(n!==z&&!e.validate(n,r(u)))throw TypeError(rt(e,n,u,o));return(_(t)?t(u,o):t).reviver("",u,o)}},w=function(e,t,n){return function(r,i){if(""!==r)return i;var u=S(e,t)(r,i);return S(o(),n,function(e){return e.inner()})(r,u)}},M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b(z),i=t===z&&n===z?z:Object.assign({},t,n),u=S(e,i),o=function(){return Object.assign({},i,r())},a=_(e)?{type:e}:e;return Object.assign({},a,{reviver:u,ownSchema:b(i),schema:o})};n.ajvMeta=M,n.ajv_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,n=arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=r(e,n);return M(u,z,t,function(){return U(u,i)})},n.ajvBase=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i(e);return M(r,{type:"object"},t,function(){return U(r,n)})},n.ajvAsIs=function(e){return M(u(arguments.length>1&&void 0!==arguments[1]?arguments[1]:h),e)},n.ajvAny=function(e){return n.ajvAsIs(e)},n.ajvNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,n=t.wrap,r=void 0!==n&&n,i=s(t);if(!r)return M(i,{type:"number"},e);var u=Object.assign({type:"number"},e),o=w(i,{anyOf:[{type:"number"},{enum:["-0","-Infinity","Infinity","NaN"]}]},u);return Object.assign({},i,{reviver:o,ownSchema:b(u),schema:b(u)})},n.ajvString=function(e){return M(c(),{type:"string"},e)},n.ajvBoolean=function(e){return M(l(),{type:"boolean"},e)},n.ajvDate=function(e){return M(v(),{type:"string",format:"date-time"},e)},n.ajvEnum=function(e){var t=r(e);return M(t,{enum:Object.keys(t.enumerators)})},n.ajvEnumMap=function(e,t,n){var r=Object.keys(t.enumerators),i="^("+r.join("|")+")$";return M(y(t,n),{type:"object",maxProperties:r.length,additionalProperties:!1,patternProperties:a({},i,{})},e,function(){return{patternProperties:a({},i,U(n,!1))}})};var N=function(e,t){return M(d(t),{type:"array"},e,function(){return{items:U(t,!1)}})},T=function(e,t){var n=t.length;return M(d(t),{type:"array",minItems:n,maxItems:n},e,function(){return{items:t.map(function(e){return U(e,!1)})}})};return n.ajvList=function(e,t){return Array.isArray(t)?T(e,t):N(e,t)},n.ajvMap=function(e,t,n){var r={type:"array",items:{type:"array",minItems:2,maxItems:2}},i=function(){return{items:Object.assign({items:[U(t,!1),U(n,!1)]},r.items)}};return M(m(t,n),r,e,i)},n.ajvStringMap=function(e,t){return M(g(t),{type:"object"},e,function(){return{additionalProperties:!1,patternProperties:{".*":U(t,!1)}}})},n.ajvSet=function(e,t){return M(O(t),{type:"array",uniqueItems:!0},e,function(){return{items:U(t,!1)}})},n.ajvMaybe=function(e){return M(j(e),z,z,function(){return U(e,!1)})},n.ajvWithDefault=function(t,n){var r=U(t);if(!e.validate(r,n))throw TypeError(it(e,r,n));return M(k(t,n),{default:n},z,b(r))},n.ajvAnyOf=function(e,t){return M(f(e,t),{anyOf:e.map(function(e){return U(e[0],!1)})})},Object.freeze(Object.assign(n,t))},ot=Ke(),at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.base,r=void 0===n?Z:n,i=t.stringTag,a=void 0===i?"ModelicoModel":i,s=t.metadata,l=void 0===s?ot:s;return function(t){function n(){return u(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return f(n,t),o(n,[{key:Symbol.toStringTag,get:function(){return a}}],[{key:"innerTypes",value:function(t,n){return _(e)?e(l,{path:t,Type:n}):Object.freeze(e)}}]),n}(r)},ft=Ke(),ct=ft._,st=["set","setIn"],lt=st,vt=["delete","clear"],yt=st,pt=["add","delete","clear"],ht=st.concat(["concat","slice","filter"]),dt=["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"],mt=st,gt=["setDate","setFullYear","setHours","setMinutes","setMilliseconds","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"],bt=m(nt,lt,vt,h),Ot=function(e,t,n){return ct(e,t).reviver("",n)},jt=function(e,t){return Ot(e,[],t)},kt=function(e,t,n,r,i){return e(t,n,r).reviver("",i)},St=function(e,t,n,r){return kt(e,t,n,[],r)},wt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.metadata=ut(e),at(t,n)},Mt={about:Object.freeze({version:"22.1.0",author:"Javier Cejudo <javier@javiercejudo.com> (http://www.javiercejudo.com)",homepage:"https://github.com/javiercejudo/modelico#readme",license:"MIT"}),Number:Ne,Date:Te,Enum:Ze,EnumMap:Se,List:xe,Map:le,StringMap:me,Maybe:Be,Just:Be.Just,Nothing:Be.Nothing,Base:Z,Set:Fe,createModel:at,createAjvModel:wt,fields:function(e){return e[t]()},symbols:r,fromJS:jt,genericsFromJS:Ot,fromJSON:function(e,t){return jt(e,JSON.parse(t))},genericsFromJSON:function(e,t,n){return Ot(e,t,JSON.parse(n))},ajvFromJS:St,ajvGenericsFromJS:kt,ajvFromJSON:function(e,t,n,r){return St(e,t,n,JSON.parse(r))},ajvGenericsFromJSON:function(e,t,n,r,i){return kt(e,t,n,r,JSON.parse(i))},metadata:Ke,ajvMetadata:ut,getSchema:U,validate:W,withValidation:B,proxyMap:bt,proxyEnumMap:bt,proxyStringMap:bt,proxyList:m(nt,ht,dt,function(e){return[].concat(l(e))}),proxySet:m(nt,yt,pt,h),proxyDate:m(nt,mt,gt,h)};return Mt});
