!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Modelico=t()}}(function(){return function t(e,n,r){function i(o,u){if(!n[o]){if(!e[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[o]={exports:{}};e[o][0].call(f.exports,function(t){var n=e[o][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){e.exports=["setDate","setFullYear","setHours","setMinutes","setMilliseconds","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]},{}],2:[function(t,e,n){e.exports=["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]},{}],3:[function(t,e,n){e.exports=["concat","slice","filter"]},{}],4:[function(t,e,n){e.exports=["set","delete","clear"]},{}],5:[function(t,e,n){e.exports=["add","delete","clear"]},{}],6:[function(t,e,n){"use strict";e.exports=t("./src")},{"./src":18}],7:[function(t,e,n){"use strict";const r=t("./U"),i=t("./Modelico");class s extends i{constructor(t,e,n,i){super(t,{innerMap:i});this.innerTypes=r.always(Object.freeze({keyMetadata:e,valueMetadata:n}));this.innerMap=(()=>i===null?null:new Map(i));return this}[object Object](){return this.innerMap()[Symbol.iterator]()}setPath(t,e){if(t.length===0){const t=this.innerTypes();return new(this.type())(t.keyMetadata,t.keyMetadata,e)}const n=this.innerMap().get(t[0]);return this.set(t[0],n.setPath(t.slice(1),e))}static set(t,e,n){const r=this.innerTypes();const i=this.innerMap();i.set(e,n);return new t(r.keyMetadata,r.valueMetadata,i)}static metadata(t,e,n,i){return Object.freeze({type:t,reviver:r.bind(e,{keyMetadata:n,valueMetadata:i})})}}e.exports=Object.freeze(s)},{"./Modelico":15,"./U":17}],8:[function(t,e,n){"use strict";e.exports=Object.freeze({})},{}],9:[function(t,e,n){"use strict";const r=t("./U");e.exports=(t=>Object.freeze({type:t,reviver:r.asIsReviver}))},{"./U":17}],10:[function(t,e,n){"use strict";const r=t("./Modelico");class i extends r{constructor(t){super(i,{date:t});this.date=(()=>t===null?null:new Date(t.getTime()));return Object.freeze(this)}set(t){return new i(t)}setPath(t,e){if(t.length===0){return this.set(e)}return this.set(e)}toJSON(){return this.date()===null?null:this.date().toISOString()}static reviver(t,e){const n=e===null?null:new Date(e);return new i(n)}static metadata(){return Object.freeze({type:i,reviver:i.reviver})}}e.exports=Object.freeze(i)},{"./Modelico":15}],11:[function(t,e,n){"use strict";const r=t("./U"),i=t("./Modelico"),s=(t,e)=>(t[e]={code:e})&&t,o=(t,e,n)=>{return null===n?null:t[n]};class u extends i{constructor(t){const e=Array.isArray(t)?t.reduce(s,{}):t;super(u,e);Object.getOwnPropertyNames(e).forEach((t=>this[t]().toJSON=r.always(t)));this.metadata=r.always(Object.freeze({type:u,reviver:r.bind(o,e)}));return Object.freeze(this)}}e.exports=Object.freeze(u)},{"./Modelico":15,"./U":17}],12:[function(t,e,n){"use strict";const r=t("./U"),i=t("./AbstractMap"),s=(t,e)=>{return t[e[0].toJSON()]=e[1],t},o=(t,e)=>n=>[r.reviverOrAsIs(t.keyMetadata)("",n),r.reviverOrAsIs(t.valueMetadata)("",e[n])],u=(t,e,n)=>{if(""!==e)return n;const r=null===n?null:new Map(Object.keys(n).map(o(t,n)));return new a(t.keyMetadata,t.valueMetadata,r)};class a extends i{constructor(t,e,n){super(a,t,e,n);return Object.freeze(this)}set(t,e){return i.set.call(this,a,t,e)}toJSON(){const t=this.fields().innerMap;return t===null?null:Array.from(t).reduce(s,{})}static metadata(t,e){return i.metadata(a,u,t,e)}}e.exports=Object.freeze(a)},{"./AbstractMap":7,"./U":17}],13:[function(t,e,n){"use strict";const r=t("./U"),i=t("./Modelico"),s=t("./AsIs"),o=t("./Any");class u extends i{constructor(t,e){super(u,{innerList:e});this.itemMetadata=r.always(t);this.innerList=(()=>e===null?null:e.slice());return Object.freeze(this)}[object Object](){return this.innerList()[Symbol.iterator]()}set(t,e){const n=this.innerList();n[t]=e;return new u(this.itemMetadata(),n)}setPath(t,e){if(t.length===0){return new u(this.itemMetadata(),e)}const n=this.innerList()[t[0]];return this.set(t[0],n.setPath(t.slice(1),e))}toJSON(){return this.fields().innerList}static fromArray(t){return new u(s(o),t)}static metadata(t){return r.iterableMetadata(u,t)}}e.exports=Object.freeze(u)},{"./Any":8,"./AsIs":9,"./Modelico":15,"./U":17}],14:[function(t,e,n){"use strict";const r=t("./U"),i=t("./AbstractMap"),s=t("./AsIs"),o=t("./Any"),u=t=>({key:t[0],value:t[1]}),a=t=>e=>[r.reviverOrAsIs(t.keyMetadata)("",e.key),r.reviverOrAsIs(t.valueMetadata)("",e.value)],c=(t,e,n)=>{if(""!==e)return n;const r=null===n?null:new Map(n.map(a(t)));return new f(t.keyMetadata,t.valueMetadata,r)};class f extends i{constructor(t,e,n){super(f,t,e,n);return Object.freeze(this)}set(t,e){return i.set.call(this,f,t,e)}toJSON(){const t=this.fields().innerMap;return t===null?null:Array.from(t).map(u)}static fromObject(t){return f.fromMap(new Map(r.objToArr(t)))}static fromMap(t){return new f(s(String),s(o),t)}static metadata(t,e){return i.metadata(f,c,t,e)}}e.exports=Object.freeze(f)},{"./AbstractMap":7,"./Any":8,"./AsIs":9,"./U":17}],15:[function(t,e,n){"use strict";const r=t("./U"),i=(t,e)=>{return t[e.field]=e.value,t},s=(t,e,n)=>{if(""===e)return new t(n);if(t.innerTypes){const i=t.innerTypes()[e];if(i)return r.reviverOrAsIs(i)("",n)}return n};class o{constructor(t,e,n){n=r.default(n,this);n.type=r.always(t);n.fields=r.always(Object.freeze(e));Object.getOwnPropertyNames(e).forEach((t=>n[t]=r.always(e[t])));return n}set(t,e){const n=Object.assign({},this.fields(),i({},{field:t,value:e}));return new(this.type())(n)}setPath(t,e){if(t.length===0){return new(this.type())(e)}if(t.length===1){return this.set(t[0],e)}return this.set(t[0],this[t[0]]().setPath(t.slice(1),e))}equals(t){return JSON.stringify(this)===JSON.stringify(t)}toJSON(){return this.fields()}static factory(t,e,n){return new o(t,e,n)}static fromJSON(t,e){return JSON.parse(e,r.bind(s,t))}static metadata(t){return Object.freeze({type:t,reviver:r.bind(s,t)})}}e.exports=Object.freeze(o)},{"./U":17}],16:[function(t,e,n){"use strict";const r=t("./U"),i=t("./Modelico"),s=t("./AsIs"),o=t("./Any");class u extends i{constructor(t,e){super(u,{innerSet:e});this.itemMetadata=r.always(t);this.innerSet=(()=>e===null?null:new Set(e));return Object.freeze(this)}[object Object](){return this.innerSet()[Symbol.iterator]()}set(t,e){const n=Array.from(this.innerSet());n[t]=e;return new u(this.itemMetadata(),n)}setPath(t,e){if(t.length===0){return new u(this.itemMetadata(),e)}const n=Array.from(this.innerSet())[t[0]];return this.set(t[0],n.setPath(t.slice(1),e))}toJSON(){const t=this.fields().innerSet;return t===null?null:Array.from(t)}static fromArray(t){return u.fromSet(new Set(t))}static fromSet(t){return new u(s(o),t)}static metadata(t){return r.iterableMetadata(u,t)}}e.exports=Object.freeze(u)},{"./Any":8,"./AsIs":9,"./Modelico":15,"./U":17}],17:[function(t,e,n){"use strict";const r=(t,e)=>e,i=(t,e)=>t.bind(void 0,e),s=(t,e,n,r)=>{if(""!==n)return r;const s=null===r?null:r.map(i(e.reviver,n));return new t(e,s)},o=(t,e,n,r)=>{return Object.freeze({type:t,reviver:s.bind(void 0,t,e)})};e.exports=Object.freeze({always:t=>()=>t,bind:i,"default":(t,e)=>void 0===t?e:t,objToArr:t=>Object.keys(t).map((e=>[e,t[e]])),reviverOrAsIs:t=>t.reviver||r,asIsReviver:r,iterableReviver:s,iterableMetadata:o})},{}],18:[function(t,e,n){"use strict";const r=t("./Modelico"),i=t("./Map"),s=t("./EnumMap"),o=t("./Date"),u=t("./AsIs"),a=t("./List"),c=t("./Set"),f=t("./Enum"),l=t("./Any"),d=(t,e,n,r)=>t.bind(void 0,e,n,r),p=t("./proxyFactory"),y=["set","setPath"],M=y,h=t("../data/mapMutators.json"),v=y,b=t("../data/setMutators.json"),O=y.concat(t("../data/listNonMutators.json")),w=t("../data/listMutators.json"),j=y,m=t("../data/dateMutators.json");e.exports=Object.freeze({Any:l,AsIs:u,Date:o,Enum:f,EnumMap:s,List:a,Map:i,Modelico:r,Set:c,proxyMap:d(p,M,h,"innerMap"),proxyList:d(p,O,w,"innerList"),proxySet:d(p,v,b,"innerSet"),proxyDate:d(p,j,m,"date")})},{"../data/dateMutators.json":1,"../data/listMutators.json":2,"../data/listNonMutators.json":3,"../data/mapMutators.json":4,"../data/setMutators.json":5,"./Any":8,"./AsIs":9,"./Date":10,"./Enum":11,"./EnumMap":12,"./List":13,"./Map":14,"./Modelico":15,"./Set":16,"./proxyFactory":19}],19:[function(t,e,n){"use strict";let r;const i=(t,e,n,i,s)=>{return t.includes(s)?function(){const o=i[s].apply(i,arguments);return r(t,e,n,o)}:i[s]},s=(t,e,n,i,s,o,u)=>{return n.includes(u)?function(){const u=o.setPath([],e.apply(t,arguments));return r(n,i,s,u)}:i.includes(u)?function(){e.apply(t,arguments);const u=o.setPath([],t);return r(n,i,s,u)}:function(){return e.apply(t,arguments)}};r=((t,e,n,r)=>{const o=(r,o)=>{if(o in r)return i(t,e,n,r,o);const u=r[n](),a=u[o];return"function"==typeof a?s(u,a,t,e,n,r,o):a};return new Proxy(r,{get:o})}),e.exports=r},{}]},{},[6])(6)});
